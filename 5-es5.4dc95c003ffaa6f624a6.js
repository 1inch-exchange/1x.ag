(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"+Z7H":function(n){n.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"ETH_ADDRESS","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"FLAG_BANCOR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"FLAG_COMPOUND","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"FLAG_FULCRUM","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"FLAG_KYBER","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"FLAG_OASIS","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"FLAG_UNISWAP","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"contract IKyberNetworkContract","name":"kyberNetworkContract","type":"address"},{"internalType":"contract IERC20","name":"fromToken","type":"address"},{"internalType":"contract IERC20","name":"toToken","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"_calculateKyberReturnWithEth","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"contract IERC20","name":"token","type":"address"}],"name":"_isFulcrumToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"bancorContractRegistry","outputs":[{"internalType":"contract IBancorContractRegistry","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"cETH","outputs":[{"internalType":"contract ICompoundEther","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"contract IERC20","name":"fromToken","type":"address"},{"internalType":"contract IERC20","name":"toToken","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"calculateBancorReturn","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"contract IERC20","name":"fromToken","type":"address"},{"internalType":"contract IERC20","name":"toToken","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"calculateKyberReturn","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"contract IERC20","name":"fromToken","type":"address"},{"internalType":"contract IERC20","name":"toToken","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"calculateOasisReturn","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"contract IERC20","name":"fromToken","type":"address"},{"internalType":"contract IERC20","name":"toToken","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"calculateUniswapReturn","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"compound","outputs":[{"internalType":"contract ICompound","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"contract IERC20","name":"fromToken","type":"address"},{"internalType":"contract IERC20","name":"toToken","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"parts","type":"uint256"},{"internalType":"uint256","name":"disableFlags","type":"uint256"}],"name":"getAllRatesForDEX","outputs":[{"internalType":"uint256[]","name":"results","type":"uint256[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"contract IERC20","name":"fromToken","type":"address"},{"internalType":"contract IERC20","name":"toToken","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"parts","type":"uint256"},{"internalType":"uint256","name":"disableFlags","type":"uint256"}],"name":"getExpectedReturn","outputs":[{"internalType":"uint256","name":"returnAmount","type":"uint256"},{"internalType":"uint256[]","name":"distribution","type":"uint256[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"contract IERC20","name":"fromToken","type":"address"},{"internalType":"contract IERC20","name":"toToken","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"minReturn","type":"uint256"},{"internalType":"uint256","name":"parts","type":"uint256"},{"internalType":"uint256","name":"disableFlags","type":"uint256"}],"name":"goodSwap","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"kyberNetworkProxy","outputs":[{"internalType":"contract IKyberNetworkProxy","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"log","outputs":[],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"oasisExchange","outputs":[{"internalType":"contract IOasisExchange","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"contract IERC20","name":"fromToken","type":"address"},{"internalType":"contract IERC20","name":"toToken","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"minReturn","type":"uint256"},{"internalType":"uint256[]","name":"distribution","type":"uint256[]"},{"internalType":"uint256","name":"disableFlags","type":"uint256"}],"name":"swap","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"uniswapFactory","outputs":[{"internalType":"contract IUniswapFactory","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"}]')},"978R":function(n,t,e){"use strict";e.d(t,"a",(function(){return a})),e.d(t,"b",(function(){return c})),e.d(t,"c",(function(){return p})),e.d(t,"d",(function(){return d}));var l=e("8Y7J"),u=e("hpHm"),i=e("mrSG"),s=e("z/SZ"),o=e("2uy1"),r=e("PqYM");class a{constructor(){this.adaptivePosition=!0,this.placement="top",this.triggers="hover focus",this.delay=0}}class c{constructor(n){Object.assign(this,n)}get isBs3(){return Object(u.d)()}ngAfterViewInit(){this.classMap={in:!1,fade:!1},this.classMap[this.placement]=!0,this.classMap["tooltip-".concat(this.placement)]=!0,this.classMap.in=!0,this.animation&&(this.classMap.fade=!0),this.containerClass&&(this.classMap[this.containerClass]=!0)}}let b=0,p=(()=>{class n{constructor(n,t,e,u,i,s){this._elementRef=u,this._renderer=i,this._positionService=s,this.tooltipId=b++,this.tooltipChange=new l.m,this.containerClass="",this.tooltipAnimation=!0,this.tooltipFadeDuration=150,this.ariaDescribedby="tooltip-".concat(this.tooltipId),this.tooltipStateChanged=new l.m,this._tooltip=t.createLoader(this._elementRef,n,this._renderer).provide({provide:a,useValue:e}),Object.assign(this,e),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}get isOpen(){return this._tooltip.isShown}set isOpen(n){n?this.show():this.hide()}set htmlContent(n){Object(u.i)("tooltipHtml was deprecated, please use `tooltip` instead"),this.tooltip=n}set _placement(n){Object(u.i)("tooltipPlacement was deprecated, please use `placement` instead"),this.placement=n}set _isOpen(n){Object(u.i)("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen=n}get _isOpen(){return Object(u.i)("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen}set _enable(n){Object(u.i)("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled=!n}get _enable(){return Object(u.i)("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled}set _appendToBody(n){Object(u.i)('tooltipAppendToBody was deprecated, please use `container="body"` instead'),this.container=n?"body":this.container}get _appendToBody(){return Object(u.i)('tooltipAppendToBody was deprecated, please use `container="body"` instead'),"body"===this.container}set _popupClass(n){Object(u.i)("tooltipClass deprecated")}set _tooltipContext(n){Object(u.i)("tooltipContext deprecated")}set _tooltipPopupDelay(n){Object(u.i)("tooltipPopupDelay is deprecated, use `delay` instead"),this.delay=n}get _tooltipTrigger(){return Object(u.i)("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers}set _tooltipTrigger(n){Object(u.i)("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers=(n||"").toString()}ngOnInit(){this._tooltip.listen({triggers:this.triggers,show:()=>this.show()}),this.tooltipChange.subscribe(n=>{n||this._tooltip.hide()})}toggle(){if(this.isOpen)return this.hide();this.show()}show(){if(this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition}}}),this.isOpen||this.isDisabled||this._delayTimeoutId||!this.tooltip)return;const n=()=>{this._delayTimeoutId&&(this._delayTimeoutId=void 0),this._tooltip.attach(c).to(this.container).position({attachment:this.placement}).show({content:this.tooltip,placement:this.placement,containerClass:this.containerClass,id:this.ariaDescribedby})},t=()=>{this._tooltipCancelShowFn&&this._tooltipCancelShowFn()};if(this.delay){const e=Object(r.a)(this.delay).subscribe(()=>{n(),t()});this.triggers&&Object(u.f)(this.triggers).forEach(n=>{this._tooltipCancelShowFn=this._renderer.listen(this._elementRef.nativeElement,n.close,()=>{e.unsubscribe(),t()})})}else n()}hide(){this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this._tooltip.isShown&&(this._tooltip.instance.classMap.in=!1,setTimeout(()=>{this._tooltip.hide()},this.tooltipFadeDuration))}ngOnDestroy(){this._tooltip.dispose()}}return Object(i.b)([Object(u.a)(),Object(i.c)("design:type",Object)],n.prototype,"tooltip",void 0),n})();class d{static forRoot(){return{ngModule:d,providers:[a,s.a,o.a]}}}},X79p:function(n,t,e){"use strict";e.r(t);var l=e("8Y7J");class u{}var i=e("pMnS"),s=e("iInd");class o{constructor(){}}var r=l.qb({encapsulation:0,styles:[["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{font-weight:300;text-align:center}h1[_ngcontent-%COMP%]{font-size:2rem}h2[_ngcontent-%COMP%]{font-size:1.1rem}@media (max-width:768px){h1[_ngcontent-%COMP%]{font-size:1.4rem;line-height:1.8rem}h2[_ngcontent-%COMP%]{font-size:.8rem}span.relays-hint[_ngcontent-%COMP%]{font-size:60%}}"]],data:{}});function a(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,3,"h1",[["class","pt-2 pr-3 pl-3 pt-md-5"]],null,null,null,null,null)),(n()(),l.Kb(-1,null,[" Leverage aggregator with automated trading strategy,"])),(n()(),l.sb(2,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),l.Kb(-1,null,["lowest price slippage and gas costs.\n"])),(n()(),l.sb(4,0,null,null,1,"h2",[["class","pr-3 pl-3"]],null,null,null,null,null)),(n()(),l.Kb(-1,null,[" Achieving best results by using flash loans and liquidation save bot.\n"])),(n()(),l.sb(6,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),l.rb(7,212992,null,0,s.p,[s.b,l.O,l.j,[8,null],l.h],null,null)],(function(n,t){n(t,7,0)}),null)}var c=l.ob("app-leverage",o,(function(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,1,"app-leverage",[],null,null,null,a,r)),l.rb(1,49152,null,0,o,[],null,null)],null,null)}),{},{},[]),b=e("fNgX"),p=e("Nv++"),d=e("cUpR"),h=e("978R"),m=e("z/SZ"),g=e("2uy1"),k=e("SVse"),f=e("G0yt"),y=e("s7LF"),v=e("mrSG"),w=e("JX91"),T=e("lJxs"),C=e("L3Cm"),E=e("5+qj"),x=e("pdS3"),S=e("nkFk"),R=e("+Z7H");let O=(()=>{class n{constructor(n,t){this.configurationService=n,this.web3Service=t,this.init()}init(){return v.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.web3Service.getWeb3Provider();case 2:n.t0=n.sent.eth.Contract,n.t1=R,n.t2=this.configurationService.ONE_SPLIT_CONTRACT_ADDRESS,this.contract=new n.t0(n.t1,n.t2);case 6:case"end":return n.stop()}}),n,this)})))}calculateZrxOrderFees(n){return v.a(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.userGasPrice.mul(15e4).mul(n));case 1:case"end":return t.stop()}}),t,this)})))}getContract(){return v.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((n,t)=>{setTimeout(t,3e5);const e=()=>{this.contract?n(this.contract):setTimeout(()=>{e()},100)};e()}));case 1:case"end":return n.stop()}}),n,this)})))}getExpectedReturn(n,t,e,l,u){return v.a(this,void 0,void 0,regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.getContract();case 2:return i.t0=n,i.t1=t,i.t2=e,i.t3=l,i.t4=u,i.abrupt("return",i.sent.methods.getExpectedReturn(i.t0,i.t1,i.t2,i.t3,i.t4).call());case 8:case"end":return i.stop()}}),i,this)})))}getAllRatesForDEX(n,t,e,l,u){return v.a(this,void 0,void 0,regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.getContract();case 2:return i.t0=n,i.t1=t,i.t2=e,i.t3=l,i.t4=u,i.abrupt("return",i.sent.methods.getAllRatesForDEX(i.t0,i.t1,i.t2,i.t3,i.t4).call());case 8:case"end":return i.stop()}}),i,this)})))}encodeSwap(n,t,e,l,u,i){return this.getSwapMethod(n,t,e,l,u,i).encodeABI()}getSwapMethod(n,t,e,l,u,i){return this.contract.methods.swap(n,t,e,l,u,i)}}return n.ngInjectableDef=l.Qb({factory:function(){return new n(l.Rb(S.a),l.Rb(x.a))},token:n,providedIn:"root"}),n})();var M=e("IheW");let _=(()=>{class n{constructor(n,t,e,l,u){this.tokenService=n,this.web3Service=t,this.configurationService=e,this.oneSplitService=l,this.http=u,this.tickers=[],this.priceEndpoint=this.configurationService.CORS_PROXY_URL+"https://api.coinpaprika.com/v1/",setInterval(()=>{try{this.setEthPrice(),this.updateTickers()}catch(n){}},3e4),this.setEthPrice(),this.updateTickers()}updateTickers(){return v.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.http.get(this.priceEndpoint+"tickers").toPromise();case 3:n.t0=n=>-1===n.id.indexOf("knc-kingn-coin"),this.tickers=n.sent.filter(n.t0),n.next=9;break;case 7:n.prev=7,n.t1=n.catch(0);case 9:case"end":return n.stop()}}),n,this,[[0,7]])})))}setEthPrice(){return v.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.fetchTokenPrice("ETH");case 2:this.ethPrice=n.sent,this.formatedEthPrice=this.tokenService.formatAsset("ETH",this.ethPrice);case 4:case"end":return n.stop()}}),n,this)})))}getEthPrice(){return v.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((n,t)=>{setTimeout(t,3e5);const e=()=>{this.ethPrice?n(this.ethPrice):setTimeout(()=>{e()},100)};e()}));case 1:case"end":return n.stop()}}),n,this)})))}fetchTokenPrice(n){return v.a(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("DAI"!==n&&"SAI"!==n){t.next=2;break}return t.abrupt("return",E.ethers.utils.bigNumberify(1e8).mul(1e8));case 2:return t.next=4,this.oneSplitService.getExpectedReturn(this.tokenService.getTokenBySymbol("DAI").address,this.tokenService.getTokenBySymbol(n).address,E.ethers.utils.bigNumberify(10).pow(16),E.ethers.utils.bigNumberify(20),E.ethers.utils.bigNumberify(0));case 4:return e=t.sent,l=e.returnAmount,t.abrupt("return",l);case 7:case"end":return t.stop()}}),t,this)})))}getTickers(){return v.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((n,t)=>{setTimeout(t,3e5);const e=()=>{this.tickers.length?n(this.tickers):setTimeout(()=>{e()},100)};e()}));case 1:case"end":return n.stop()}}),n,this)})))}getUSDPrice(n){return v.a(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=n.map(n=>n.toLowerCase()),t.next=3,this.getTickers();case 3:return t.t0=t=>-1!==n.indexOf(t.symbol.toLowerCase()),t.t1=n=>{const t={};return t[n.symbol]=n.quotes.USD.price,t},t.abrupt("return",t.sent.filter(t.t0).map(t.t1));case 6:case"end":return t.stop()}}),t,this)})))}getRateToEther(n){return v.a(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,l,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("ETH"!==n&&"WETH"!==n){t.next=4;break}e=E.ethers.utils.bigNumberify(10).pow(14),t.next=9;break;case 4:return t.next=6,this.oneSplitService.getExpectedReturn(this.configurationService.ETH_ADDRESS,this.tokenService.getTokenBySymbol(n).address,E.ethers.utils.bigNumberify(10).pow(14),E.ethers.utils.bigNumberify(1),E.ethers.utils.bigNumberify(0));case 6:l=t.sent,u=l.returnAmount,e=u.gt(0)?u:E.ethers.utils.bigNumberify(1);case 9:return t.abrupt("return",e);case 10:case"end":return t.stop()}}),t,this)})))}calculateToEther(n,t,e,l){return v.a(this,void 0,void 0,regeneratorRuntime.mark((function u(){var i;return regeneratorRuntime.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,this.getRateToEther(n);case 3:return i=u.sent,u.abrupt("return",t.map((n,t)=>n.map((n,u)=>{if(!u)return E.ethers.utils.bigNumberify(0);let s=E.ethers.utils.bigNumberify(0);return e[t]&&e[t][u]&&(s=e[t][u]),n.mul(E.ethers.utils.bigNumberify(10).pow(14)).div(i).sub(s.mul(l))})));case 7:u.prev=7,u.t0=u.catch(0),console.error(u.t0);case 10:return u.abrupt("return",E.ethers.utils.bigNumberify(0));case 11:case"end":return u.stop()}}),u,this,[[0,7]])})))}}return n.ngInjectableDef=l.Qb({factory:function(){return new n(l.Rb(C.a),l.Rb(x.a),l.Rb(S.a),l.Rb(O),l.Rb(M.c))},token:n,providedIn:"root"}),n})();class B{constructor(n,t,e,u){this.tokenService=n,this.configurationService=t,this.web3Service=e,this.tokenPriceService=u,this.tokenSearchControl=new y.e(""),this.tokenAmountBN=E.ethers.utils.bigNumberify(0),this.tokenBalanceBN=E.ethers.utils.bigNumberify(0),this.maxTokenBalanceBN=E.ethers.utils.bigNumberify(0),this.usdFormatter=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),this.tokenBlackList=[],this.tokens=[],this.balancesOfTokens=[],this.pricesOfTokens=[],this.approved=!1,this.loading=!1,this.tokenDropDownOpened=!1,this.onTokenSelectEmitter=new l.m}ngOnInit(){return v.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Object,n.t1={},n.next=4,this.tokenService.getTokens();case 4:n.t2=n.sent,this.tokens=n.t0.assign.call(n.t0,n.t1,n.t2),this.tokenBlackList.forEach(n=>delete this.tokens[n]),this.initTokenSearchResults(),this.web3Service.connectEvent.subscribe(()=>{this.loadBalancesOfTokens()}),this.web3Service.disconnectEvent.subscribe(()=>{this.clearTokenBalances()}),this.runBackgroundJobs();case 11:case"end":return n.stop()}}),n,this)})))}clearTokenBalances(){const n=Object.values(this.tokens);for(let t=0;t<n.length;t++)this.tokens[n[t].symbol].balance=0}initTokenSearchResults(){return v.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.tokenSearchResults=this.tokenSearchControl.valueChanges.pipe(Object(w.a)(""),Object(T.a)(n=>{let t=Object.values(this.tokens);return""!==n?t.filter(t=>t.symbol.toLowerCase().indexOf(n.toLowerCase())>-1).slice(0,10).map(n=>this.addBalancesToSearchResults(n)).sort((t,e)=>this.sortSearchResults(n,t,e)):(t=t.map(n=>this.addBalancesToSearchResults(n)).sort((t,e)=>this.sortSearchResults(n,t,e)),t)}));case 1:case"end":return n.stop()}}),n,this)})))}addBalancesToSearchResults(n){if(n.balance)try{n.formatedTokenBalance=this.tokenService.toFixed(this.tokenService.formatAsset(n.symbol,n.balance),18)}catch(t){console.log("token",n),console.error(t)}return n}setToken(n){this.token=n.symbol,this.tokenDropDown.close(),this.onTokenSelectEmitter.emit(n)}sortSearchResults(n,t,e){return t.usd||(t.usd=0),e.usd||(e.usd=0),t.balance||(t.balance=E.ethers.utils.bigNumberify(0)),e.balance||(e.balance=E.ethers.utils.bigNumberify(0)),t.symbol.toLowerCase()===n.toLowerCase()?-1:t.usd>e.usd?-1:t.usd<e.usd?1:0}runBackgroundJobs(){return v.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t,e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=(new Date).getTime(),n.prev=1,e=[],this.web3Service.walletAddress&&e.push(this.loadBalancesOfTokens()),this.checkAllowance(),n.next=7,Promise.all(e);case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),console.error(n.t0);case 12:try{(new Date).getTime()-t>1e4?this.runBackgroundJobs():setTimeout(()=>{this.runBackgroundJobs()},1e4-((new Date).getTime()-t))}catch(l){console.error(l)}case 13:case"end":return n.stop()}}),n,this,[[1,9]])})))}checkAllowance(){return v.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0="ETH"===this.token,n.t0){n.next=8;break}if(n.t1=!!this.web3Service.walletAddress,!n.t1){n.next=7;break}return n.next=6,this.tokenService.isApproved(this.token,this.tokenSpender,this.tokenAmountBN);case 6:n.t1=n.sent;case 7:n.t0=n.t1;case 8:this.approved=n.t0;case 9:case"end":return n.stop()}}),n,this)})))}loadBalancesOfTokens(){return v.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t,e,l,u,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!this.web3Service.walletAddress){n.next=23;break}return t=Object.values(this.tokens),n.next=5,this.tokenService.getTokenBalancesAndPricesForTokens(this.web3Service.walletAddress,t);case 5:for(e=n.sent,l=e.balances,u=e.prices,this.balancesOfTokens=l,this.pricesOfTokens=u,i=0;i<this.balancesOfTokens.length;i++)this.tokens[t[i].symbol]?(this.tokens[t[i].symbol].balance=this.balancesOfTokens[i],this.pricesOfTokens[i].gt(0)&&"ETH"!==t[i].symbol?(this.tokens[t[i].symbol].price=this.balancesOfTokens[i].mul(1e9).div(this.pricesOfTokens[i]),this.tokens[t[i].symbol].usd=this.tokens[t[i].symbol].price.toNumber()/100/1e9,this.tokens[t[i].symbol].formatedUSD=this.usdFormatter.format(this.tokens[t[i].symbol].usd)):(this.tokens[t[i].symbol].usd=0,this.tokens[t[i].symbol].formatedUSD=0)):console.log(t[i].symbol);if(n.t0=this.tokens.ETH,!n.t0){n.next=23;break}return n.next=14,this.web3Service.web3Provider.eth.getBalance(this.web3Service.walletAddress);case 14:return this.tokens.ETH.balance=n.sent,n.t1=E.ethers.utils.bigNumberify(this.tokens.ETH.balance).mul(1e9),n.next=18,this.tokenPriceService.getEthPrice();case 18:n.t2=n.sent,n.t3=n.t1.div.call(n.t1,n.t2).toNumber(),n.t4=n.t3/100,this.tokens.ETH.usd=n.t4/1e9,this.tokens.ETH.formatedUSD=this.usdFormatter.format(this.tokens.ETH.usd);case 23:n.next=28;break;case 25:n.prev=25,n.t5=n.catch(0),console.error(n.t5);case 28:this.tokenDropDownOpened||this.tokenSearchControl.setValue(this.tokenSearchControl.value);case 29:case"end":return n.stop()}}),n,this,[[0,25]])})))}}var A=l.qb({encapsulation:0,styles:[["button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px}li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px}.token-dropdown[_ngcontent-%COMP%]:active, .token-dropdown[_ngcontent-%COMP%]:focus, .token-dropdown[_ngcontent-%COMP%]:hover{color:#212529;background:0 0;box-shadow:none}.btn-outline-secondary[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-outline-secondary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .btn-outline-secondary.dropdown-toggle[_ngcontent-%COMP%]{background:0 0}.dropdown-toggle[_ngcontent-%COMP%]::after{color:#212529}.tokenSearch[_ngcontent-%COMP%]:focus{box-shadow:none}.tokenScrollArea[_ngcontent-%COMP%]{max-height:20rem;overflow:auto;min-width:15rem}.is-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.list-group-item[_ngcontent-%COMP%]:hover{cursor:pointer}"]],data:{}});function P(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),l.Kb(1,null,[" ",""])),(n()(),l.sb(2,0,null,null,0,"br",[],null,null,null,null,null))],null,(function(n,t){n(t,1,0,t.parent.parent.context.$implicit.formatedUSD)}))}function D(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,3,"span",[["class","text-secondary"]],null,null,null,null,null)),(n()(),l.hb(16777216,null,null,1,null,P)),l.rb(2,16384,null,0,k.l,[l.O,l.L],{ngIf:[0,"ngIf"]},null),(n()(),l.Kb(3,null,[" "," "]))],(function(n,t){n(t,2,0,t.parent.context.$implicit.formatedUSD)}),(function(n,t){n(t,3,0,t.parent.context.$implicit.formatedTokenBalance)}))}function I(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,5,"li",[["class","list-group-item"]],null,[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.setToken(n.context.$implicit)&&l),l}),null,null)),(n()(),l.sb(1,0,null,null,0,"img",[["class","mr-1"],["onerror","this.src = 'assets/tokens/token.png';"]],[[8,"src",4]],null,null,null,null)),(n()(),l.Kb(2,null,[" "," "])),(n()(),l.sb(3,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),l.hb(16777216,null,null,1,null,D)),l.rb(5,16384,null,0,k.l,[l.O,l.L],{ngIf:[0,"ngIf"]},null)],(function(n,t){n(t,5,0,t.context.$implicit.formatedTokenBalance>0)}),(function(n,t){var e="assets/tokens/"+t.context.$implicit.address.toLowerCase()+".png";n(t,1,0,e),n(t,2,0,t.context.$implicit.symbol)}))}function N(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,26,"div",[["ngbDropdown",""]],[[2,"show",null]],null,null,null,null)),l.rb(1,1720320,[[1,4],["tokenDropDown",4]],3,f.t,[l.h,f.v,k.d,l.y,l.k,l.D,[2,f.G]],null,null),l.Ib(603979776,2,{_menu:0}),l.Ib(603979776,3,{_menuElement:0}),l.Ib(603979776,4,{_anchor:0}),(n()(),l.sb(5,0,null,null,5,"button",[["aria-haspopup","true"],["class","btn btn-block btn-outline-secondary text-left is-flex token-dropdown dropdown-toggle"],["ngbDropdownToggle",""],["type","button"]],[[1,"aria-expanded",0]],[[null,"click"],[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"]],(function(n,t,e){var u=!0;return"click"===t&&(u=!1!==l.Eb(n,6).dropdown.toggle()&&u),"keydown.ArrowUp"===t&&(u=!1!==l.Eb(n,6).dropdown.onKeyDown(e)&&u),"keydown.ArrowDown"===t&&(u=!1!==l.Eb(n,6).dropdown.onKeyDown(e)&&u),"keydown.Home"===t&&(u=!1!==l.Eb(n,6).dropdown.onKeyDown(e)&&u),"keydown.End"===t&&(u=!1!==l.Eb(n,6).dropdown.onKeyDown(e)&&u),u}),null,null)),l.rb(6,16384,null,0,f.y,[f.t,l.k],null,null),l.Hb(2048,[[4,4]],f.u,null,[f.y]),(n()(),l.sb(8,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),l.sb(9,0,null,null,0,"img",[["class","mr-1"],["onerror","this.src = 'assets/tokens/token.png';"]],[[8,"src",4]],null,null,null,null)),(n()(),l.Kb(10,null,[" "," "])),(n()(),l.sb(11,0,[[3,0]],null,15,"div",[["aria-labelledby","tokenDropdown"],["ngbDropdownMenu",""]],[[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],[[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"],[null,"keydown.Enter"],[null,"keydown.Space"]],(function(n,t,e){var u=!0;return"keydown.ArrowUp"===t&&(u=!1!==l.Eb(n,12).dropdown.onKeyDown(e)&&u),"keydown.ArrowDown"===t&&(u=!1!==l.Eb(n,12).dropdown.onKeyDown(e)&&u),"keydown.Home"===t&&(u=!1!==l.Eb(n,12).dropdown.onKeyDown(e)&&u),"keydown.End"===t&&(u=!1!==l.Eb(n,12).dropdown.onKeyDown(e)&&u),"keydown.Enter"===t&&(u=!1!==l.Eb(n,12).dropdown.onKeyDown(e)&&u),"keydown.Space"===t&&(u=!1!==l.Eb(n,12).dropdown.onKeyDown(e)&&u),u}),null,null)),l.rb(12,16384,[[2,4]],1,f.w,[f.t],null,null),l.Ib(603979776,5,{menuItems:1}),(n()(),l.sb(14,0,null,null,6,"div",[["class","p-2 border-bottom"]],null,null,null,null,null)),(n()(),l.sb(15,0,[["tokenSearchField",1]],null,5,"input",[["autocomplete","off"],["class","form-control border-0 tokenSearch"],["placeholder",'Try "DAI"'],["type","search"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,t,e){var u=!0;return"input"===t&&(u=!1!==l.Eb(n,16)._handleInput(e.target.value)&&u),"blur"===t&&(u=!1!==l.Eb(n,16).onTouched()&&u),"compositionstart"===t&&(u=!1!==l.Eb(n,16)._compositionStart()&&u),"compositionend"===t&&(u=!1!==l.Eb(n,16)._compositionEnd(e.target.value)&&u),u}),null,null)),l.rb(16,16384,null,0,y.c,[l.D,l.k,[2,y.a]],null,null),l.Hb(1024,null,y.j,(function(n){return[n]}),[y.c]),l.rb(18,540672,null,0,y.f,[[8,null],[8,null],[6,y.j],[2,y.s]],{form:[0,"form"]},null),l.Hb(2048,null,y.k,null,[y.f]),l.rb(20,16384,null,0,y.l,[[4,y.k]],null,null),(n()(),l.sb(21,0,null,null,5,"div",[["class","tokenScrollArea"]],null,null,null,null,null)),(n()(),l.sb(22,0,null,null,4,"div",[["class","p-2"]],null,null,null,null,null)),(n()(),l.sb(23,0,null,null,3,"ul",[["class","list-group list-group-flush"]],null,null,null,null,null)),(n()(),l.hb(16777216,null,null,2,null,I)),l.rb(25,278528,null,0,k.k,[l.O,l.L,l.r],{ngForOf:[0,"ngForOf"]},null),l.Fb(131072,k.b,[l.h])],(function(n,t){var e=t.component;n(t,18,0,e.tokenSearchControl),n(t,25,0,l.Lb(t,25,0,l.Eb(t,26).transform(e.tokenSearchResults)))}),(function(n,t){var e=t.component;n(t,0,0,l.Eb(t,1).isOpen()),n(t,5,0,l.Eb(t,6).dropdown.isOpen()),n(t,9,0,"assets/tokens/"+e.tokens[e.token].address.toLowerCase()+".png"),n(t,10,0,e.token),n(t,11,0,!0,l.Eb(t,12).dropdown.isOpen(),l.Eb(t,12).placement),n(t,15,0,l.Eb(t,20).ngClassUntouched,l.Eb(t,20).ngClassTouched,l.Eb(t,20).ngClassPristine,l.Eb(t,20).ngClassDirty,l.Eb(t,20).ngClassValid,l.Eb(t,20).ngClassInvalid,l.Eb(t,20).ngClassPending)}))}function j(n){return l.Mb(0,[l.Ib(671088640,1,{tokenDropDown:0}),(n()(),l.hb(16777216,null,null,1,null,N)),l.rb(2,16384,null,0,k.l,[l.O,l.L],{ngIf:[0,"ngIf"]},null)],(function(n,t){var e=t.component;n(t,2,0,e.tokens[e.token])}),null)}var H=e("7o/Q"),L=e("D0XW");class K{constructor(n,t){this.dueTime=n,this.scheduler=t}call(n,t){return t.subscribe(new F(n,this.dueTime,this.scheduler))}}class F extends H.a{constructor(n,t,e){super(n),this.dueTime=t,this.scheduler=e,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(n){this.clearDebounce(),this.lastValue=n,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(U,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const n=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(n)}}clearDebounce(){const n=this.debouncedSubscription;null!==n&&(this.remove(n),n.unsubscribe(),this.debouncedSubscription=null)}}function U(n){n.debouncedNext()}var V=e("/uUt");class ${constructor(n,t,e){this.tokenService=n,this.tokenPriceService=t,this.web3Service=e,this.tokenAmountControl=new y.e(""),this.maxTokenBalance="0.0",this.tokenAmountBNChange=new l.m,this.tokenBalance="0.0",this.tokenBalanceBN=E.ethers.utils.bigNumberify(0),this.tokenUsdCostView="",this.usdFormatter=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),this._tokenAmountBN=E.ethers.utils.bigNumberify(0)}get token(){return this._token}set token(n){this._token=n,this.reset(),this.runBackgroundJobs()}get tokenAmountBN(){return this._tokenAmountBN}set tokenAmountBN(n){this._tokenAmountBN=n,this.tokenAmountControl.setValue(this.tokenService.formatAsset(this.token,n))}ngOnInit(){return v.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.tokenAmountControl.valueChanges.pipe(function(n,t=L.a){return e=>e.lift(new K(n,t))}(200),Object(V.a)()).subscribe(n=>{if(""!==n&&this.isNumeric(n)&&0!==n&&!n.match(/^([0\.]+)$/)){this.tokenAmount=n;const t=this.tokenService.parseAsset(this.token,n);t.eq(this._tokenAmountBN)||(this._tokenAmountBN=t,this.tokenAmountBNChange.emit(this._tokenAmountBN)),this.updateTokenUSDCosts()}}),this.web3Service.connectEvent.subscribe(()=>{this.loadTokenBalance()}),this.web3Service.disconnectEvent.subscribe(()=>{this.reset()}),setTimeout(()=>{this.runBackgroundJobs()},5e3);case 1:case"end":return n.stop()}}),n,this)})))}reset(){this.maxTokenBalance="0.0",this.tokenBalance="0.0",this.tokenBalanceBN=E.ethers.utils.bigNumberify(0),this.tokenUsdCost=E.ethers.utils.bigNumberify(0),this.tokenUsdCostView=""}isNumeric(n){return/^\d*\.{0,1}\d*$/.test(n)}loadTokenBalance(){return v.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.web3Service.walletAddress,!n.t0){n.next=31;break}if("ETH"!==this.token){n.next=19;break}return n.t1=E.ethers.utils,n.next=6,this.web3Service.web3Provider.eth.getBalance(this.web3Service.walletAddress);case 6:if(n.t2=n.sent,n.t3=this.gasPrice.mul(5e6),this.tokenBalanceBN=n.t1.bigNumberify.call(n.t1,n.t2).sub(n.t3),n.t4=this.tokenBalanceBN.lte(0),!n.t4){n.next=16;break}return n.t5=E.ethers.utils,n.next=14,this.web3Service.web3Provider.eth.getBalance(this.web3Service.walletAddress);case 14:n.t6=n.sent,this.tokenBalanceBN=n.t5.bigNumberify.call(n.t5,n.t6);case 16:this.tokenBalance=E.ethers.utils.formatEther(this.tokenBalanceBN),n.next=28;break;case 19:return n.t7=this.tokenService,n.t8=this.token,n.next=23,this.web3Service.walletAddress;case 23:return n.t9=n.sent,n.next=26,n.t7.getTokenBalance.call(n.t7,n.t8,n.t9);case 26:this.tokenBalanceBN=n.sent,this.tokenBalance=this.tokenService.formatAsset(this.token,this.tokenBalanceBN);case 28:this.tokenBalance=this.tokenService.toFixed(this.tokenBalance,18),"0"===this.tokenBalance&&(this.tokenBalance="0.0",this.tokenBalanceBN=E.ethers.utils.bigNumberify(0)),this.maxTokenBalance=this.tokenService.toFixed(this.tokenBalance,12);case 31:case"end":return n.stop()}}),n,this)})))}setTokenAmount(){return v.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.tokenAmountControl.setValue(this.tokenBalance);case 1:case"end":return n.stop()}}),n,this)})))}updateTokenUSDCosts(){return v.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=this.tokenUsdPrice,n.t0){n.next=6;break}return n.next=5,this.tokenPriceService.fetchTokenPrice(this.token);case 5:this.tokenUsdPrice=n.sent;case 6:this.tokenUsdPrice.gt(0)&&(this.tokenUsdCost=this.tokenAmountBN.div(this.tokenUsdPrice),this.tokenUsdCostView=this.usdFormatter.format(this.tokenUsdCost.toString()/100)),n.next=12;break;case 9:n.prev=9,n.t1=n.catch(0),console.error(n.t1);case 12:case"end":return n.stop()}}),n,this,[[0,9]])})))}loadUSDPrice(){return v.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.tokenPriceService.fetchTokenPrice(this.token);case 3:this.tokenUsdPrice=n.sent,this.updateTokenUSDCosts(),n.next=9;break;case 7:n.prev=7,n.t0=n.catch(0);case 9:case"end":return n.stop()}}),n,this,[[0,7]])})))}runBackgroundJobs(){return v.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t,e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=(new Date).getTime(),n.prev=1,(e=[]).push(this.loadUSDPrice()),e.push(this.loadTokenBalance()),n.next=7,Promise.all(e);case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),console.error(n.t0);case 12:try{(new Date).getTime()-t>1e4?this.runBackgroundJobs():setTimeout(()=>{this.runBackgroundJobs()},1e4-((new Date).getTime()-t))}catch(l){console.error(l)}case 13:case"end":return n.stop()}}),n,this,[[1,9]])})))}}var J=l.qb({encapsulation:0,styles:[[".tokenBalance[_ngcontent-%COMP%]{cursor:pointer}"]],data:{}});function X(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),l.Kb(1,null,["\u2248 ",""]))],null,(function(n,t){n(t,1,0,t.component.tokenUsdCostView)}))}function q(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),l.Kb(-1,null,["\xa0"]))],null,null)}function G(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,1,"small",[["class","form-text text-muted text-left position-relative mb-1 tokenBalance"],["style","margin-top: -23px; white-space: nowrap;overflow: hidden;text-overflow: ellipsis;"]],null,[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.setTokenAmount()&&l),l}),null,null)),(n()(),l.Kb(1,null,[" Max: ","\n"])),(n()(),l.sb(2,0,null,null,7,"input",[["aria-describedby","tokenBalance"],["autocomplete","off"],["class","form-control text-right"],["numeric",""],["numericType","decimal"],["pattern","[0-9\\.]*"],["type","text"]],[[8,"id",0],[8,"name",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,t,e){var u=!0;return"input"===t&&(u=!1!==l.Eb(n,3)._handleInput(e.target.value)&&u),"blur"===t&&(u=!1!==l.Eb(n,3).onTouched()&&u),"compositionstart"===t&&(u=!1!==l.Eb(n,3)._compositionStart()&&u),"compositionend"===t&&(u=!1!==l.Eb(n,3)._compositionEnd(e.target.value)&&u),u}),null,null)),l.rb(3,16384,null,0,y.c,[l.D,l.k,[2,y.a]],null,null),l.rb(4,540672,null,0,y.o,[],{pattern:[0,"pattern"]},null),l.Hb(1024,null,y.i,(function(n){return[n]}),[y.o]),l.Hb(1024,null,y.j,(function(n){return[n]}),[y.c]),l.rb(7,540672,null,0,y.f,[[6,y.i],[8,null],[6,y.j],[2,y.s]],{form:[0,"form"]},null),l.Hb(2048,null,y.k,null,[y.f]),l.rb(9,16384,null,0,y.l,[[4,y.k]],null,null),(n()(),l.sb(10,0,null,null,4,"small",[["class","form-text text-right text-info"],["id","tokenCost"]],null,null,null,null,null)),(n()(),l.hb(16777216,null,null,1,null,X)),l.rb(12,16384,null,0,k.l,[l.O,l.L],{ngIf:[0,"ngIf"]},null),(n()(),l.hb(16777216,null,null,1,null,q)),l.rb(14,16384,null,0,k.l,[l.O,l.L],{ngIf:[0,"ngIf"]},null)],(function(n,t){var e=t.component;n(t,4,0,"[0-9\\.]*"),n(t,7,0,e.tokenAmountControl),n(t,12,0,e.tokenUsdCost),n(t,14,0,!e.tokenUsdCost)}),(function(n,t){var e=t.component;n(t,1,0,e.maxTokenBalance),n(t,2,0,e.id,e.name,l.Eb(t,4).pattern?l.Eb(t,4).pattern:null,l.Eb(t,9).ngClassUntouched,l.Eb(t,9).ngClassTouched,l.Eb(t,9).ngClassPristine,l.Eb(t,9).ngClassDirty,l.Eb(t,9).ngClassValid,l.Eb(t,9).ngClassInvalid,l.Eb(t,9).ngClassPending)}))}var W=e("aHM3"),z=e("wHSu");class Y{constructor(n,t,e){this.configurationService=n,this.tokenService=t,this.web3Service=e,this.formGroup=new y.g({}),this.marked=!1,this.theCheckbox=!1,this.tokenSpender="0x0000000000000000000000000000000000000000",this.marginToken=localStorage.getItem("leverageMarginToken")?localStorage.getItem("leverageMarginToken"):"ETH",this.payToken=localStorage.getItem("leveragePayToken")?localStorage.getItem("leveragePayToken"):"DAI",this.positionModel="",this.leverageModel="",this.info=z.c,this.tokenBlackList=[],this.marginTokenList=["ETH","DAI","WBTC","ZRX","MKR"],this.amountBN=localStorage.getItem("leverageTokenAmount")?E.ethers.utils.bigNumberify(localStorage.getItem("leverageTokenAmount")):E.ethers.utils.bigNumberify(1e9).mul(1e9)}ngOnInit(){this.tokenBlackList=Object.keys(this.tokenService.tokens).filter(n=>-1===this.marginTokenList.indexOf(n)),this.gasPrice=this.configurationService.fastGasPrice}onMarginTokenSelect(n){return v.a(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.marginToken=n.symbol,localStorage.setItem("leverageMarginToken",this.marginToken);case 1:case"end":return t.stop()}}),t,this)})))}onPayTokenSelect(n){return v.a(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.payToken=n.symbol,localStorage.setItem("leveragePayToken",this.payToken);case 1:case"end":return t.stop()}}),t,this)})))}toggleVisibility(n){this.marked=n.target.checked}}var Z=l.qb({encapsulation:0,styles:[[".active[_ngcontent-%COMP%]{background:#ea262a!important;border:1px solid #ea262a!important;box-shadow:none!important}.round[_ngcontent-%COMP%]{margin-left:.5em;margin-right:.5em;border-radius:100px!important}.upper[_ngcontent-%COMP%]{font-size:11px!important;padding:2px}"]],data:{}});function Q(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,24,"div",[],null,null,null,null,null)),(n()(),l.sb(1,0,null,null,11,"div",[["class","row pt-4 ml-md-4 mr-md-4"]],null,null,null,null,null)),(n()(),l.sb(2,0,null,null,4,"div",[["class","col-4 col-xs-12 mt-2"]],null,null,null,null,null)),(n()(),l.Kb(-1,null,["Stop loss "])),(n()(),l.sb(4,16777216,null,null,2,"fa-icon",[["class","upper ng-fa-icon"],["tooltip","Lowest price which will trigger repayment process"]],[[1,"title",0],[8,"innerHTML",1],[1,"aria-describedby",0]],null,null,b.d,b.c)),l.rb(5,573440,null,0,p.c,[d.b,p.a,p.d,[2,p.i]],{icon:[0,"icon"]},null),l.rb(6,212992,null,0,h.c,[l.O,m.a,h.a,l.k,l.D,g.a],{tooltip:[0,"tooltip"]},null),(n()(),l.sb(7,0,null,null,5,"div",[["class","col-8 col-xs-12"]],null,null,null,null,null)),(n()(),l.sb(8,0,null,null,4,"div",[["class","input-group"]],null,null,null,null,null)),(n()(),l.sb(9,0,null,null,0,"input",[["aria-label","Amount"],["class","form-control"],["placeholder","Amount"],["type","text"]],null,null,null,null,null)),(n()(),l.sb(10,0,null,null,2,"div",[["class","input-group-append"]],null,null,null,null,null)),(n()(),l.sb(11,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["type","button"]],null,null,null,null,null)),(n()(),l.Kb(-1,null,["MAX"])),(n()(),l.sb(13,0,null,null,11,"div",[["class","row pt-4 ml-md-4 mr-md-4"]],null,null,null,null,null)),(n()(),l.sb(14,0,null,null,4,"div",[["class","col-4 col-xs-12 mt-2"]],null,null,null,null,null)),(n()(),l.Kb(-1,null,["Stop win "])),(n()(),l.sb(16,16777216,null,null,2,"fa-icon",[["class","upper ng-fa-icon"],["tooltip","Highest price which will trigger repayment process"]],[[1,"title",0],[8,"innerHTML",1],[1,"aria-describedby",0]],null,null,b.d,b.c)),l.rb(17,573440,null,0,p.c,[d.b,p.a,p.d,[2,p.i]],{icon:[0,"icon"]},null),l.rb(18,212992,null,0,h.c,[l.O,m.a,h.a,l.k,l.D,g.a],{tooltip:[0,"tooltip"]},null),(n()(),l.sb(19,0,null,null,5,"div",[["class","col-8 col-xs-12"]],null,null,null,null,null)),(n()(),l.sb(20,0,null,null,4,"div",[["class","input-group"]],null,null,null,null,null)),(n()(),l.sb(21,0,null,null,0,"input",[["aria-label","Amount"],["class","form-control"],["placeholder","Amount"],["type","text"]],null,null,null,null,null)),(n()(),l.sb(22,0,null,null,2,"div",[["class","input-group-append"]],null,null,null,null,null)),(n()(),l.sb(23,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["type","button"]],null,null,null,null,null)),(n()(),l.Kb(-1,null,["MAX"]))],(function(n,t){var e=t.component;n(t,5,0,e.info),n(t,6,0,"Lowest price which will trigger repayment process"),n(t,17,0,e.info),n(t,18,0,"Highest price which will trigger repayment process")}),(function(n,t){n(t,4,0,l.Eb(t,5).title,l.Eb(t,5).renderedIconHTML,l.Eb(t,6).ariaDescribedby),n(t,16,0,l.Eb(t,17).title,l.Eb(t,17).renderedIconHTML,l.Eb(t,18).ariaDescribedby)}))}function nn(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,82,"div",[["class","container"]],null,null,null,null,null)),(n()(),l.sb(1,0,null,null,81,"div",[["class","row"]],null,null,null,null,null)),(n()(),l.sb(2,0,null,null,80,"div",[["class","col-md-8 offset-md-2 col-xs-12 mt-4"]],null,null,null,null,null)),(n()(),l.sb(3,0,null,null,79,"div",[["class","card"]],null,null,null,null,null)),(n()(),l.sb(4,0,null,null,2,"div",[["class","card-header text-center"]],null,null,null,null,null)),(n()(),l.sb(5,0,null,null,1,"h5",[],null,null,null,null,null)),(n()(),l.Kb(-1,null,["Create position"])),(n()(),l.sb(7,0,null,null,75,"div",[["class","card-body p-4"]],null,null,null,null,null)),(n()(),l.sb(8,0,null,null,74,"div",[["class","input-group"]],null,null,null,null,null)),(n()(),l.sb(9,0,null,null,73,"div",[["class","card-body p-4"]],null,null,null,null,null)),(n()(),l.sb(10,0,null,null,4,"div",[["class","form-row justify-content-between field-labels d-none d-md-flex"]],null,null,null,null,null)),(n()(),l.sb(11,0,null,null,1,"div",[["class","form-group col-md-3 mb-1"]],null,null,null,null,null)),(n()(),l.Kb(-1,null,[" Leverage Token: "])),(n()(),l.sb(13,0,null,null,1,"div",[["class","form-group col-md-3 mb-1"]],null,null,null,null,null)),(n()(),l.Kb(-1,null,[" Pay Token: "])),(n()(),l.sb(15,0,null,null,9,"div",[["class","form-row border-bottom mb-3"]],null,null,null,null,null)),(n()(),l.sb(16,0,null,null,2,"div",[["class","form-group col-12 col-md-3"]],null,null,null,null,null)),(n()(),l.sb(17,0,null,null,1,"oi-token-selector",[["id","marginToken"]],null,[[null,"onTokenSelect"]],(function(n,t,e){var l=!0;return"onTokenSelect"===t&&(l=!1!==n.component.onMarginTokenSelect(e)&&l),l}),j,A)),l.rb(18,114688,null,0,B,[C.a,S.a,x.a,_],{tokenBlackList:[0,"tokenBlackList"],token:[1,"token"],tokenSpender:[2,"tokenSpender"]},{onTokenSelectEmitter:"onTokenSelect"}),(n()(),l.sb(19,0,null,null,2,"div",[["class","form-group col-12 col-md-6"]],null,null,null,null,null)),(n()(),l.sb(20,0,null,null,1,"oi-token-amount-field",[["id","amount"],["name","amount"]],null,[[null,"tokenAmountBNChange"]],(function(n,t,e){var l=!0;return"tokenAmountBNChange"===t&&(l=!1!==(n.component.amountBN=e)&&l),l}),G,J)),l.rb(21,114688,null,0,$,[C.a,_,x.a],{name:[0,"name"],id:[1,"id"],gasPrice:[2,"gasPrice"],token:[3,"token"],tokenAmountBN:[4,"tokenAmountBN"]},{tokenAmountBNChange:"tokenAmountBNChange"}),(n()(),l.sb(22,0,null,null,2,"div",[["class","form-group col-12 col-md-3"]],null,null,null,null,null)),(n()(),l.sb(23,0,null,null,1,"oi-token-selector",[["id","fromToken"]],null,[[null,"onTokenSelect"]],(function(n,t,e){var l=!0;return"onTokenSelect"===t&&(l=!1!==n.component.onPayTokenSelect(e)&&l),l}),j,A)),l.rb(24,114688,null,0,B,[C.a,S.a,x.a,_],{token:[0,"token"],tokenSpender:[1,"tokenSpender"]},{onTokenSelectEmitter:"onTokenSelect"}),(n()(),l.sb(25,0,null,null,14,"div",[["class","pt-4 text-center"]],null,null,null,null,null)),(n()(),l.sb(26,0,null,null,13,"div",[["btnRadioGroup",""],["class","btn-group"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(n,t,e){var l=!0;return"ngModelChange"===t&&(l=!1!==(n.component.positionModel=e)&&l),l}),null,null)),l.rb(27,16384,null,0,W.b,[l.h],null,null),l.Hb(1024,null,y.j,(function(n){return[n]}),[W.b]),l.rb(29,671744,null,0,y.m,[[8,null],[8,null],[8,null],[6,y.j]],{model:[0,"model"]},{update:"ngModelChange"}),l.Hb(2048,null,y.k,null,[y.m]),l.rb(31,16384,null,0,y.l,[[4,y.k]],null,null),(n()(),l.sb(32,0,null,null,3,"label",[["btnRadio","Short"],["class","btn btn-info"],["role","button"],["tabindex","0"]],[[2,"active",null],[1,"aria-pressed",0]],[[null,"click"]],(function(n,t,e){var u=!0;return"click"===t&&(u=!1!==l.Eb(n,34).onClick()&&u),u}),null,null)),l.Hb(5120,null,y.j,(function(n){return[n]}),[W.a]),l.rb(34,81920,null,0,W.a,[l.k,l.h,[2,W.b],l.D],{btnRadio:[0,"btnRadio"]},null),(n()(),l.Kb(-1,null,["Short"])),(n()(),l.sb(36,0,null,null,3,"label",[["btnRadio","Long"],["class","btn btn-info"],["role","button"],["tabindex","0"]],[[2,"active",null],[1,"aria-pressed",0]],[[null,"click"]],(function(n,t,e){var u=!0;return"click"===t&&(u=!1!==l.Eb(n,38).onClick()&&u),u}),null,null)),l.Hb(5120,null,y.j,(function(n){return[n]}),[W.a]),l.rb(38,81920,null,0,W.a,[l.k,l.h,[2,W.b],l.D],{btnRadio:[0,"btnRadio"]},null),(n()(),l.Kb(-1,null,["Long"])),(n()(),l.sb(40,0,null,null,1,"h5",[["class","text-center pt-3"]],null,null,null,null,null)),(n()(),l.Kb(-1,null,["Pick your leverage"])),(n()(),l.sb(42,0,null,null,26,"div",[["class","pt-3 text-center"]],null,null,null,null,null)),(n()(),l.sb(43,0,null,null,25,"div",[["btnRadioGroup",""],["class","btn-group"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(n,t,e){var l=!0;return"ngModelChange"===t&&(l=!1!==(n.component.leverageModel=e)&&l),l}),null,null)),l.rb(44,16384,null,0,W.b,[l.h],null,null),l.Hb(1024,null,y.j,(function(n){return[n]}),[W.b]),l.rb(46,671744,null,0,y.m,[[8,null],[8,null],[8,null],[6,y.j]],{model:[0,"model"]},{update:"ngModelChange"}),l.Hb(2048,null,y.k,null,[y.m]),l.rb(48,16384,null,0,y.l,[[4,y.k]],null,null),(n()(),l.sb(49,0,null,null,3,"label",[["btnRadio","1x"],["class","btn btn-info round"],["role","button"],["tabindex","0"]],[[2,"active",null],[1,"aria-pressed",0]],[[null,"click"]],(function(n,t,e){var u=!0;return"click"===t&&(u=!1!==l.Eb(n,51).onClick()&&u),u}),null,null)),l.Hb(5120,null,y.j,(function(n){return[n]}),[W.a]),l.rb(51,81920,null,0,W.a,[l.k,l.h,[2,W.b],l.D],{btnRadio:[0,"btnRadio"]},null),(n()(),l.Kb(-1,null,["1X"])),(n()(),l.sb(53,0,null,null,3,"label",[["btnRadio","2x"],["class","btn btn-info round"],["role","button"],["tabindex","0"]],[[2,"active",null],[1,"aria-pressed",0]],[[null,"click"]],(function(n,t,e){var u=!0;return"click"===t&&(u=!1!==l.Eb(n,55).onClick()&&u),u}),null,null)),l.Hb(5120,null,y.j,(function(n){return[n]}),[W.a]),l.rb(55,81920,null,0,W.a,[l.k,l.h,[2,W.b],l.D],{btnRadio:[0,"btnRadio"]},null),(n()(),l.Kb(-1,null,["2X"])),(n()(),l.sb(57,0,null,null,3,"label",[["btnRadio","3x"],["class","btn btn-info round"],["role","button"],["tabindex","0"]],[[2,"active",null],[1,"aria-pressed",0]],[[null,"click"]],(function(n,t,e){var u=!0;return"click"===t&&(u=!1!==l.Eb(n,59).onClick()&&u),u}),null,null)),l.Hb(5120,null,y.j,(function(n){return[n]}),[W.a]),l.rb(59,81920,null,0,W.a,[l.k,l.h,[2,W.b],l.D],{btnRadio:[0,"btnRadio"]},null),(n()(),l.Kb(-1,null,["3X"])),(n()(),l.sb(61,0,null,null,3,"label",[["btnRadio","4x"],["class","btn btn-info round"],["role","button"],["tabindex","0"]],[[2,"active",null],[1,"aria-pressed",0]],[[null,"click"]],(function(n,t,e){var u=!0;return"click"===t&&(u=!1!==l.Eb(n,63).onClick()&&u),u}),null,null)),l.Hb(5120,null,y.j,(function(n){return[n]}),[W.a]),l.rb(63,81920,null,0,W.a,[l.k,l.h,[2,W.b],l.D],{btnRadio:[0,"btnRadio"]},null),(n()(),l.Kb(-1,null,["4X"])),(n()(),l.sb(65,0,null,null,3,"label",[["btnRadio","5x"],["class","btn btn-info round"],["role","button"],["tabindex","0"]],[[2,"active",null],[1,"aria-pressed",0]],[[null,"click"]],(function(n,t,e){var u=!0;return"click"===t&&(u=!1!==l.Eb(n,67).onClick()&&u),u}),null,null)),l.Hb(5120,null,y.j,(function(n){return[n]}),[W.a]),l.rb(67,81920,null,0,W.a,[l.k,l.h,[2,W.b],l.D],{btnRadio:[0,"btnRadio"]},null),(n()(),l.Kb(-1,null,["5X"])),(n()(),l.sb(69,0,null,null,8,"div",[["class","form-check text-center pt-3"]],null,null,null,null,null)),(n()(),l.sb(70,0,null,null,5,"input",[["class","form-check-input"],["data-md-icheck",""],["id","botActivate"],["type","checkbox"],["value",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"click"],[null,"blur"]],(function(n,t,e){var u=!0,i=n.component;return"change"===t&&(u=!1!==l.Eb(n,71).onChange(e.target.checked)&&u),"blur"===t&&(u=!1!==l.Eb(n,71).onTouched()&&u),"ngModelChange"===t&&(u=!1!==(i.theCheckbox=e)&&u),"change"===t&&(u=!1!==i.toggleVisibility(e)&&u),"click"===t&&(u=!1!==i.toggleVisibility(e)&&u),u}),null,null)),l.rb(71,16384,null,0,y.b,[l.D,l.k],null,null),l.Hb(1024,null,y.j,(function(n){return[n]}),[y.b]),l.rb(73,671744,null,0,y.m,[[8,null],[8,null],[8,null],[6,y.j]],{model:[0,"model"]},{update:"ngModelChange"}),l.Hb(2048,null,y.k,null,[y.m]),l.rb(75,16384,null,0,y.l,[[4,y.k]],null,null),(n()(),l.sb(76,0,null,null,1,"label",[["class","form-check-label"],["for","botActivate"]],null,null,null,null,null)),(n()(),l.Kb(-1,null,[" Use T-800 liquidation save bot "])),(n()(),l.hb(16777216,null,null,1,null,Q)),l.rb(79,16384,null,0,k.l,[l.O,l.L],{ngIf:[0,"ngIf"]},null),(n()(),l.sb(80,0,null,null,2,"div",[["class","col-12 text-center pt-4"]],null,null,null,null,null)),(n()(),l.sb(81,0,null,null,1,"button",[["class","btn btn-lg btn-success"]],null,null,null,null,null)),(n()(),l.Kb(-1,null,["Continue"]))],(function(n,t){var e=t.component;n(t,18,0,e.tokenBlackList,e.marginToken,e.tokenSpender),n(t,21,0,"amount","amount",e.gasPrice,e.payToken,e.amountBN),n(t,24,0,e.payToken,e.tokenSpender),n(t,29,0,e.positionModel),n(t,34,0,"Short"),n(t,38,0,"Long"),n(t,46,0,e.leverageModel),n(t,51,0,"1x"),n(t,55,0,"2x"),n(t,59,0,"3x"),n(t,63,0,"4x"),n(t,67,0,"5x"),n(t,73,0,e.theCheckbox),n(t,79,0,e.theCheckbox)}),(function(n,t){n(t,26,0,l.Eb(t,31).ngClassUntouched,l.Eb(t,31).ngClassTouched,l.Eb(t,31).ngClassPristine,l.Eb(t,31).ngClassDirty,l.Eb(t,31).ngClassValid,l.Eb(t,31).ngClassInvalid,l.Eb(t,31).ngClassPending),n(t,32,0,l.Eb(t,34).isActive,l.Eb(t,34).isActive),n(t,36,0,l.Eb(t,38).isActive,l.Eb(t,38).isActive),n(t,43,0,l.Eb(t,48).ngClassUntouched,l.Eb(t,48).ngClassTouched,l.Eb(t,48).ngClassPristine,l.Eb(t,48).ngClassDirty,l.Eb(t,48).ngClassValid,l.Eb(t,48).ngClassInvalid,l.Eb(t,48).ngClassPending),n(t,49,0,l.Eb(t,51).isActive,l.Eb(t,51).isActive),n(t,53,0,l.Eb(t,55).isActive,l.Eb(t,55).isActive),n(t,57,0,l.Eb(t,59).isActive,l.Eb(t,59).isActive),n(t,61,0,l.Eb(t,63).isActive,l.Eb(t,63).isActive),n(t,65,0,l.Eb(t,67).isActive,l.Eb(t,67).isActive),n(t,70,0,l.Eb(t,75).ngClassUntouched,l.Eb(t,75).ngClassTouched,l.Eb(t,75).ngClassPristine,l.Eb(t,75).ngClassDirty,l.Eb(t,75).ngClassValid,l.Eb(t,75).ngClassInvalid,l.Eb(t,75).ngClassPending)}))}var tn=l.ob("app-step1",Y,(function(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,1,"app-step1",[],null,null,null,nn,Z)),l.rb(1,114688,null,0,Y,[S.a,C.a,x.a],null,null)],(function(n,t){n(t,1,0)}),null)}),{},{},[]);const en=[{tokenName:"ETH",profit:"130%",status:"healthy",stopLoss:"210$",stopWin:"290$"},{tokenName:"MKR",profit:"90%",status:"healthy",stopLoss:"1110$",stopWin:"2920$"},{tokenName:"WBTC",profit:"1330%",status:"healthy",stopLoss:"9110$",stopWin:"14000$"}];class ln{constructor(){this.positions=en}ngOnInit(){}operate(n){console.log(n)}}var un=l.qb({encapsulation:0,styles:[[""]],data:{}});function sn(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,13,"tr",[],null,null,null,null,null)),(n()(),l.sb(1,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),l.Kb(2,null,["",""])),(n()(),l.sb(3,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),l.Kb(4,null,["",""])),(n()(),l.sb(5,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),l.Kb(6,null,["",""])),(n()(),l.sb(7,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),l.Kb(8,null,["",""])),(n()(),l.sb(9,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),l.Kb(10,null,["",""])),(n()(),l.sb(11,0,null,null,2,"td",[],null,null,null,null,null)),(n()(),l.sb(12,0,null,null,1,"button",[["class","btn btn-danger btn-sm"]],null,[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.operate(n.context.$implicit)&&l),l}),null,null)),(n()(),l.Kb(-1,null,[" delete "]))],null,(function(n,t){n(t,2,0,t.context.$implicit.tokenName),n(t,4,0,t.context.$implicit.profit),n(t,6,0,t.context.$implicit.status),n(t,8,0,t.context.$implicit.stopLoss),n(t,10,0,t.context.$implicit.stopWin)}))}function on(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,25,"div",[["class","container"]],null,null,null,null,null)),(n()(),l.sb(1,0,null,null,24,"div",[["class","row"]],null,null,null,null,null)),(n()(),l.sb(2,0,null,null,23,"div",[["class","col-md-8 offset-md-2 col-xs-12 mt-4"]],null,null,null,null,null)),(n()(),l.sb(3,0,null,null,22,"div",[["class","card"]],null,null,null,null,null)),(n()(),l.sb(4,0,null,null,2,"div",[["class","card-header text-center"]],null,null,null,null,null)),(n()(),l.sb(5,0,null,null,1,"h5",[],null,null,null,null,null)),(n()(),l.Kb(-1,null,["My positions"])),(n()(),l.sb(7,0,null,null,18,"div",[["class","input-group"]],null,null,null,null,null)),(n()(),l.sb(8,0,null,null,17,"div",[["class","card-body "]],null,null,null,null,null)),(n()(),l.sb(9,0,null,null,16,"table",[["class","table"]],null,null,null,null,null)),(n()(),l.sb(10,0,null,null,12,"thead",[],null,null,null,null,null)),(n()(),l.sb(11,0,null,null,11,"tr",[],null,null,null,null,null)),(n()(),l.sb(12,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(n()(),l.Kb(-1,null,["Leverage Token"])),(n()(),l.sb(14,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(n()(),l.Kb(-1,null,["Profit"])),(n()(),l.sb(16,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(n()(),l.Kb(-1,null,["Status"])),(n()(),l.sb(18,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(n()(),l.Kb(-1,null,["Stop Loss"])),(n()(),l.sb(20,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(n()(),l.Kb(-1,null,["Stop Win"])),(n()(),l.sb(22,0,null,null,0,"th",[["scope","col"]],null,null,null,null,null)),(n()(),l.sb(23,0,null,null,2,"tbody",[],null,null,null,null,null)),(n()(),l.hb(16777216,null,null,1,null,sn)),l.rb(25,278528,null,0,k.k,[l.O,l.L,l.r],{ngForOf:[0,"ngForOf"]},null)],(function(n,t){n(t,25,0,t.component.positions)}),null)}var rn=l.ob("app-my-positions",ln,(function(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,1,"app-my-positions",[],null,null,null,on,un)),l.rb(1,114688,null,0,ln,[],null,null)],(function(n,t){n(t,1,0)}),null)}),{},{},[]),an=l.qb({encapsulation:0,styles:[".tooltip[_nghost-%COMP%] {\n      display: block;\n      pointer-events: none;\n    }\n    .bs3.tooltip.top[_nghost-%COMP%] > .arrow[_ngcontent-%COMP%] {\n      margin-left: -2px;\n    }\n    .bs3.tooltip.bottom[_nghost-%COMP%] {\n      margin-top: 0px;\n    }\n    .bs3.bs-tooltip-left[_nghost-%COMP%], .bs3.bs-tooltip-right[_nghost-%COMP%]{\n      margin: 0px;\n    }\n    .bs3.bs-tooltip-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs3.bs-tooltip-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      margin: .3rem 0;\n    }"],data:{}});function cn(n){return l.Mb(2,[(n()(),l.sb(0,0,null,null,0,"div",[["class","tooltip-arrow arrow"]],null,null,null,null,null)),(n()(),l.sb(1,0,null,null,1,"div",[["class","tooltip-inner"]],null,null,null,null,null)),l.Db(null,0)],null,null)}var bn=l.ob("bs-tooltip-container",h.b,(function(n){return l.Mb(0,[(n()(),l.sb(0,0,null,null,1,"bs-tooltip-container",[["role","tooltip"]],[[8,"className",0],[2,"show",null],[2,"bs3",null],[1,"id",0]],null,null,cn,an)),l.rb(1,4243456,null,0,h.b,[h.a],null,null)],null,(function(n,t){n(t,0,0,"tooltip in tooltip-"+l.Eb(t,1).placement+" bs-tooltip-"+l.Eb(t,1).placement+" "+l.Eb(t,1).placement+" "+l.Eb(t,1).containerClass,!l.Eb(t,1).isBs3,l.Eb(t,1).isBs3,l.Eb(t,1).id)}))}),{},{},["*"]);class pn{}class dn{}e.d(t,"LeverageModuleNgFactory",(function(){return hn}));var hn=l.pb(u,[],(function(n){return l.Bb([l.Cb(512,l.j,l.ab,[[8,[i.a,c,tn,rn,b.b,b.a,bn]],[3,l.j],l.w]),l.Cb(4608,k.n,k.m,[l.t,[2,k.C]]),l.Cb(4608,y.r,y.r,[]),l.Cb(4608,y.d,y.d,[]),l.Cb(4608,h.a,h.a,[]),l.Cb(4608,g.a,g.a,[l.y,l.E,l.A]),l.Cb(4608,m.a,m.a,[l.j,l.y,l.q,g.a,l.g]),l.Cb(1073742336,k.c,k.c,[]),l.Cb(1073742336,s.o,s.o,[[2,s.t],[2,s.k]]),l.Cb(1073742336,pn,pn,[]),l.Cb(1073742336,y.q,y.q,[]),l.Cb(1073742336,y.h,y.h,[]),l.Cb(1073742336,W.c,W.c,[]),l.Cb(1073742336,p.j,p.j,[]),l.Cb(1073742336,h.d,h.d,[]),l.Cb(1073742336,f.x,f.x,[]),l.Cb(1073742336,y.p,y.p,[]),l.Cb(1073742336,dn,dn,[]),l.Cb(1073742336,u,u,[]),l.Cb(1024,s.i,(function(){return[[{path:"",component:o,children:[{path:"",component:Y},{path:"positions",component:ln}]}]]}),[])])}))},aHM3:function(n,t,e){"use strict";e.d(t,"a",(function(){return u})),e.d(t,"b",(function(){return l})),e.d(t,"c",(function(){return i})),e("8Y7J"),e("s7LF");class l{constructor(n){this.cdr=n,this.onChange=Function.prototype,this.onTouched=Function.prototype}get value(){return this._value}set value(n){this._value=n}writeValue(n){this._value=n,this.cdr.markForCheck()}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}}class u{constructor(n,t,e,l){this.el=n,this.cdr=t,this.group=e,this.renderer=l,this.onChange=Function.prototype,this.onTouched=Function.prototype}get value(){return this.group?this.group.value:this._value}set value(n){this.group?this.group.value=n:this._value=n}get disabled(){return this._disabled}set disabled(n){this._disabled=n,this.setDisabledState(n)}get isActive(){return this.btnRadio===this.value}onClick(){this.el.nativeElement.attributes.disabled||!this.uncheckable&&this.btnRadio===this.value||(this.value=this.uncheckable&&this.btnRadio===this.value?void 0:this.btnRadio,this._onChange(this.value))}ngOnInit(){this.uncheckable=void 0!==this.uncheckable}onBlur(){this.onTouched()}_onChange(n){if(this.group)return this.group.onTouched(),void this.group.onChange(n);this.onTouched(),this.onChange(n)}writeValue(n){this.value=n,this.cdr.markForCheck()}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){n?this.renderer.setAttribute(this.el.nativeElement,"disabled","disabled"):this.renderer.removeAttribute(this.el.nativeElement,"disabled")}}class i{static forRoot(){return{ngModule:i,providers:[]}}}}}]);