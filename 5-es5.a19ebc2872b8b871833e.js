function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"+Z7H":function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"ETH_ADDRESS","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"FLAG_BANCOR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"FLAG_COMPOUND","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"FLAG_FULCRUM","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"FLAG_KYBER","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"FLAG_OASIS","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"FLAG_UNISWAP","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"contract IKyberNetworkContract","name":"kyberNetworkContract","type":"address"},{"internalType":"contract IERC20","name":"fromToken","type":"address"},{"internalType":"contract IERC20","name":"toToken","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"_calculateKyberReturnWithEth","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"contract IERC20","name":"token","type":"address"}],"name":"_isFulcrumToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"bancorContractRegistry","outputs":[{"internalType":"contract IBancorContractRegistry","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"cETH","outputs":[{"internalType":"contract ICompoundEther","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"contract IERC20","name":"fromToken","type":"address"},{"internalType":"contract IERC20","name":"toToken","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"calculateBancorReturn","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"contract IERC20","name":"fromToken","type":"address"},{"internalType":"contract IERC20","name":"toToken","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"calculateKyberReturn","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"contract IERC20","name":"fromToken","type":"address"},{"internalType":"contract IERC20","name":"toToken","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"calculateOasisReturn","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"contract IERC20","name":"fromToken","type":"address"},{"internalType":"contract IERC20","name":"toToken","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"calculateUniswapReturn","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"compound","outputs":[{"internalType":"contract ICompound","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"contract IERC20","name":"fromToken","type":"address"},{"internalType":"contract IERC20","name":"toToken","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"parts","type":"uint256"},{"internalType":"uint256","name":"disableFlags","type":"uint256"}],"name":"getAllRatesForDEX","outputs":[{"internalType":"uint256[]","name":"results","type":"uint256[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"contract IERC20","name":"fromToken","type":"address"},{"internalType":"contract IERC20","name":"toToken","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"parts","type":"uint256"},{"internalType":"uint256","name":"disableFlags","type":"uint256"}],"name":"getExpectedReturn","outputs":[{"internalType":"uint256","name":"returnAmount","type":"uint256"},{"internalType":"uint256[]","name":"distribution","type":"uint256[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"contract IERC20","name":"fromToken","type":"address"},{"internalType":"contract IERC20","name":"toToken","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"minReturn","type":"uint256"},{"internalType":"uint256","name":"parts","type":"uint256"},{"internalType":"uint256","name":"disableFlags","type":"uint256"}],"name":"goodSwap","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"kyberNetworkProxy","outputs":[{"internalType":"contract IKyberNetworkProxy","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"log","outputs":[],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"oasisExchange","outputs":[{"internalType":"contract IOasisExchange","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"contract IERC20","name":"fromToken","type":"address"},{"internalType":"contract IERC20","name":"toToken","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"minReturn","type":"uint256"},{"internalType":"uint256[]","name":"distribution","type":"uint256[]"},{"internalType":"uint256","name":"disableFlags","type":"uint256"}],"name":"swap","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"uniswapFactory","outputs":[{"internalType":"contract IUniswapFactory","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"}]')},hup1:function(e,t,n){"use strict";n.r(t);var r,o,i,a=n("ofXK"),s=n("tyNb"),c=n("fXoL"),u=((r=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=c.Ib({type:r,selectors:[["app-leverage"]],decls:1,vars:0,template:function(e,t){1&e&&c.Pb(0,"router-outlet")},directives:[s.f],styles:[""]}),r),l=n("mrSG"),b=n("3Pt+"),p=n("nkFk"),d=n("pdS3"),h=n("5+qj"),m=n("L3Cm"),f=n("wHSu"),k=n("JX91"),g=n("lJxs"),y=n("+Z7H"),v=((o=function(){function e(t,n){_classCallCheck(this,e),this.configurationService=t,this.web3Service=n,this.init()}return _createClass(e,[{key:"init",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.web3Service.getWeb3Provider();case 2:e.t0=e.sent.eth.Contract,e.t1=y,e.t2=this.configurationService.ONE_SPLIT_CONTRACT_ADDRESS,this.contract=new e.t0(e.t1,e.t2);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"calculateZrxOrderFees",value:function(e){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.userGasPrice.mul(15e4).mul(e));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"getContract",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){setTimeout(n,3e5),function n(){t.contract?e(t.contract):setTimeout((function(){n()}),100)}()})));case 1:case"end":return e.stop()}}),e)})))}},{key:"getExpectedReturn",value:function(e,t,n,r,o){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.getContract();case 2:return i.t0=e,i.t1=t,i.t2=n,i.t3=r,i.t4=o,i.abrupt("return",i.sent.methods.getExpectedReturn(i.t0,i.t1,i.t2,i.t3,i.t4).call());case 8:case"end":return i.stop()}}),i,this)})))}},{key:"getAllRatesForDEX",value:function(e,t,n,r,o){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.getContract();case 2:return i.t0=e,i.t1=t,i.t2=n,i.t3=r,i.t4=o,i.abrupt("return",i.sent.methods.getAllRatesForDEX(i.t0,i.t1,i.t2,i.t3,i.t4).call());case 8:case"end":return i.stop()}}),i,this)})))}},{key:"encodeSwap",value:function(e,t,n,r,o,i){return this.getSwapMethod(e,t,n,r,o,i).encodeABI()}},{key:"getSwapMethod",value:function(e,t,n,r,o,i){return this.contract.methods.swap(e,t,n,r,o,i)}}]),e}()).\u0275fac=function(e){return new(e||o)(c.bc(p.a),c.bc(d.a))},o.\u0275prov=c.Kb({token:o,factory:o.\u0275fac,providedIn:"root"}),o),T=n("tk/3"),S=((i=function(){function e(t,n,r,o,i){var a=this;_classCallCheck(this,e),this.tokenService=t,this.web3Service=n,this.configurationService=r,this.oneSplitService=o,this.http=i,this.tickers=[],this.priceEndpoint=this.configurationService.CORS_PROXY_URL+"https://api.coinpaprika.com/v1/",setInterval((function(){try{a.setEthPrice(),a.updateTickers()}catch(e){}}),3e4),this.setEthPrice(),this.updateTickers()}return _createClass(e,[{key:"updateTickers",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.http.get(this.priceEndpoint+"tickers").toPromise();case 3:e.t0=function(e){return-1===e.id.indexOf("knc-kingn-coin")},this.tickers=e.sent.filter(e.t0),e.next=9;break;case 7:e.prev=7,e.t1=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})))}},{key:"setEthPrice",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchTokenPrice("ETH");case 2:this.ethPrice=e.sent,this.formatedEthPrice=this.tokenService.formatAsset("ETH",this.ethPrice);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"getEthPrice",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){setTimeout(n,3e5),function n(){t.ethPrice?e(t.ethPrice):setTimeout((function(){n()}),100)}()})));case 1:case"end":return e.stop()}}),e)})))}},{key:"fetchTokenPrice",value:function(e){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("DAI"!==e&&"SAI"!==e){t.next=2;break}return t.abrupt("return",h.ethers.utils.bigNumberify(1e8).mul(1e8));case 2:return t.next=4,this.oneSplitService.getExpectedReturn(this.tokenService.getTokenBySymbol("DAI").address,this.tokenService.getTokenBySymbol(e).address,h.ethers.utils.bigNumberify(10).pow(16),h.ethers.utils.bigNumberify(20),h.ethers.utils.bigNumberify(0));case 4:return n=t.sent,r=n.returnAmount,t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"getTickers",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){setTimeout(n,3e5),function n(){t.tickers.length?e(t.tickers):setTimeout((function(){n()}),100)}()})));case 1:case"end":return e.stop()}}),e)})))}},{key:"getUSDPrice",value:function(e){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=e.map((function(e){return e.toLowerCase()})),t.next=3,this.getTickers();case 3:return t.t0=function(t){return-1!==e.indexOf(t.symbol.toLowerCase())},t.t1=function(e){var t={};return t[e.symbol]=e.quotes.USD.price,t},t.abrupt("return",t.sent.filter(t.t0).map(t.t1));case 6:case"end":return t.stop()}}),t,this)})))}},{key:"getRateToEther",value:function(e){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("ETH"!==e&&"WETH"!==e){t.next=4;break}n=h.ethers.utils.bigNumberify(10).pow(14),t.next=9;break;case 4:return t.next=6,this.oneSplitService.getExpectedReturn(this.configurationService.ETH_ADDRESS,this.tokenService.getTokenBySymbol(e).address,h.ethers.utils.bigNumberify(10).pow(14),h.ethers.utils.bigNumberify(1),h.ethers.utils.bigNumberify(0));case 6:r=t.sent,o=r.returnAmount,n=o.gt(0)?o:h.ethers.utils.bigNumberify(1);case 9:return t.abrupt("return",n);case 10:case"end":return t.stop()}}),t,this)})))}},{key:"calculateToEther",value:function(e,t,n,r){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function o(){var i;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,this.getRateToEther(e);case 3:return i=o.sent,o.abrupt("return",t.map((function(e,t){return e.map((function(e,o){if(!o)return h.ethers.utils.bigNumberify(0);var a=h.ethers.utils.bigNumberify(0);return n[t]&&n[t][o]&&(a=n[t][o]),e.mul(h.ethers.utils.bigNumberify(10).pow(14)).div(i).sub(a.mul(r))}))})));case 7:o.prev=7,o.t0=o.catch(0),console.error(o.t0);case 10:return o.abrupt("return",h.ethers.utils.bigNumberify(0));case 11:case"end":return o.stop()}}),o,this,[[0,7]])})))}}]),e}()).\u0275fac=function(e){return new(e||i)(c.bc(m.a),c.bc(d.a),c.bc(p.a),c.bc(v),c.bc(T.a))},i.\u0275prov=c.Kb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),w=n("1kSV"),B=["tokenDropDown"];function C(e,t){if(1&e&&(c.Tb(0,"span"),c.Ic(1),c.Pb(2,"br"),c.Sb()),2&e){var n=c.ic(2).$implicit;c.Bb(1),c.Kc(" ",n.formatedUSD,"")}}function x(e,t){if(1&e&&(c.Tb(0,"span",15),c.Gc(1,C,3,1,"span",16),c.Ic(2),c.Sb()),2&e){var n=c.ic().$implicit;c.Bb(1),c.nc("ngIf",n.formatedUSD),c.Bb(1),c.Kc(" ",n.formatedTokenBalance," ")}}function I(e,t){if(1&e){var n=c.Ub();c.Tb(0,"li",13),c.fc("click",(function(e){c.zc(n);var r=t.$implicit;return c.ic(2).setToken(r)})),c.Pb(1,"img",4),c.Ic(2),c.Pb(3,"br"),c.Gc(4,x,3,2,"span",14),c.Sb()}if(2&e){var r=t.$implicit;c.Bb(1),c.nc("src","assets/tokens/"+r.address.toLowerCase()+".png",c.Bc),c.Bb(1),c.Kc(" ",r.symbol," "),c.Bb(2),c.nc("ngIf",r.formatedTokenBalance>0)}}function R(e,t){if(1&e&&(c.Tb(0,"div",1,2),c.Tb(2,"button",3),c.Tb(3,"span"),c.Pb(4,"img",4),c.Ic(5),c.Sb(),c.Sb(),c.Tb(6,"div",5),c.Tb(7,"div",6),c.Pb(8,"input",7,8),c.Sb(),c.Tb(10,"div",9),c.Tb(11,"div",10),c.Tb(12,"ul",11),c.Gc(13,I,5,3,"li",12),c.jc(14,"async"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb()),2&e){var n=c.ic();c.Bb(4),c.nc("src","assets/tokens/"+n.tokens[n.token].address.toLowerCase()+".png",c.Bc),c.Bb(1),c.Kc(" ",n.token," "),c.Bb(3),c.nc("formControl",n.tokenSearchControl),c.Bb(5),c.nc("ngForOf",c.kc(14,4,n.tokenSearchResults))}}var P,O=((P=function(){function e(t,n,r,o){_classCallCheck(this,e),this.tokenService=t,this.configurationService=n,this.web3Service=r,this.tokenPriceService=o,this.tokenSearchControl=new b.c(""),this.tokenAmountBN=h.ethers.utils.bigNumberify(0),this.tokenBalanceBN=h.ethers.utils.bigNumberify(0),this.maxTokenBalanceBN=h.ethers.utils.bigNumberify(0),this.usdFormatter=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),this.tokenBlackList=[],this.tokens=[],this.balancesOfTokens=[],this.pricesOfTokens=[],this.approved=!1,this.loading=!1,this.tokenDropDownOpened=!1,this.onTokenSelectEmitter=new c.n}return _createClass(e,[{key:"ngOnInit",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Object,e.t1={},e.next=4,this.tokenService.getTokens();case 4:e.t2=e.sent,this.tokens=e.t0.assign.call(e.t0,e.t1,e.t2),this.tokenBlackList.forEach((function(e){return delete t.tokens[e]})),this.initTokenSearchResults(),this.web3Service.connectEvent.subscribe((function(){t.loadBalancesOfTokens()})),this.web3Service.disconnectEvent.subscribe((function(){t.clearTokenBalances()})),this.runBackgroundJobs();case 11:case"end":return e.stop()}}),e,this)})))}},{key:"clearTokenBalances",value:function(){for(var e=Object.values(this.tokens),t=0;t<e.length;t++)this.tokens[e[t].symbol].balance=0}},{key:"initTokenSearchResults",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.tokenSearchResults=this.tokenSearchControl.valueChanges.pipe(Object(k.a)(""),Object(g.a)((function(e){var n=Object.values(t.tokens);return""!==e?n.filter((function(t){return t.symbol.toLowerCase().indexOf(e.toLowerCase())>-1})).slice(0,10).map((function(e){return t.addBalancesToSearchResults(e)})).sort((function(n,r){return t.sortSearchResults(e,n,r)})):n=n.map((function(e){return t.addBalancesToSearchResults(e)})).sort((function(n,r){return t.sortSearchResults(e,n,r)}))})));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"addBalancesToSearchResults",value:function(e){if(e.balance)try{e.formatedTokenBalance=this.tokenService.toFixed(this.tokenService.formatAsset(e.symbol,e.balance),18)}catch(t){console.log("token",e),console.error(t)}return e}},{key:"setToken",value:function(e){this.token=e.symbol,this.tokenDropDown.close(),this.onTokenSelectEmitter.emit(e)}},{key:"sortSearchResults",value:function(e,t,n){return t.usd||(t.usd=0),n.usd||(n.usd=0),t.balance||(t.balance=h.ethers.utils.bigNumberify(0)),n.balance||(n.balance=h.ethers.utils.bigNumberify(0)),t.symbol.toLowerCase()===e.toLowerCase()?-1:t.usd>n.usd?-1:t.usd<n.usd?1:0}},{key:"runBackgroundJobs",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(new Date).getTime(),e.prev=1,n=[],this.web3Service.walletAddress&&n.push(this.loadBalancesOfTokens()),this.checkAllowance(),e.next=7,Promise.all(n);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:try{(new Date).getTime()-t>1e4?this.runBackgroundJobs():setTimeout((function(){r.runBackgroundJobs()}),1e4-((new Date).getTime()-t))}catch(o){console.error(o)}case 13:case"end":return e.stop()}}),e,this,[[1,9]])})))}},{key:"checkAllowance",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0="ETH"===this.token,e.t0){e.next=8;break}if(e.t1=!!this.web3Service.walletAddress,!e.t1){e.next=7;break}return e.next=6,this.tokenService.isApproved(this.token,this.tokenSpender,this.tokenAmountBN);case 6:e.t1=e.sent;case 7:e.t0=e.t1;case 8:this.approved=e.t0;case 9:case"end":return e.stop()}}),e,this)})))}},{key:"loadBalancesOfTokens",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.web3Service.walletAddress){e.next=23;break}return t=Object.values(this.tokens),e.next=5,this.tokenService.getTokenBalancesAndPricesForTokens(this.web3Service.walletAddress,t);case 5:for(n=e.sent,r=n.balances,o=n.prices,this.balancesOfTokens=r,this.pricesOfTokens=o,i=0;i<this.balancesOfTokens.length;i++)this.tokens[t[i].symbol]?(this.tokens[t[i].symbol].balance=this.balancesOfTokens[i],this.pricesOfTokens[i].gt(0)&&"ETH"!==t[i].symbol?(this.tokens[t[i].symbol].price=this.balancesOfTokens[i].mul(1e9).div(this.pricesOfTokens[i]),this.tokens[t[i].symbol].usd=this.tokens[t[i].symbol].price.toNumber()/100/1e9,this.tokens[t[i].symbol].formatedUSD=this.usdFormatter.format(this.tokens[t[i].symbol].usd)):(this.tokens[t[i].symbol].usd=0,this.tokens[t[i].symbol].formatedUSD=0)):console.log(t[i].symbol);if(e.t0=this.tokens.ETH,!e.t0){e.next=23;break}return e.next=14,this.web3Service.web3Provider.eth.getBalance(this.web3Service.walletAddress);case 14:return this.tokens.ETH.balance=e.sent,e.t1=h.ethers.utils.bigNumberify(this.tokens.ETH.balance).mul(1e9),e.next=18,this.tokenPriceService.getEthPrice();case 18:e.t2=e.sent,e.t3=e.t1.div.call(e.t1,e.t2).toNumber(),e.t4=e.t3/100,this.tokens.ETH.usd=e.t4/1e9,this.tokens.ETH.formatedUSD=this.usdFormatter.format(this.tokens.ETH.usd);case 23:e.next=28;break;case 25:e.prev=25,e.t5=e.catch(0),console.error(e.t5);case 28:this.tokenDropDownOpened||this.tokenSearchControl.setValue(this.tokenSearchControl.value);case 29:case"end":return e.stop()}}),e,this,[[0,25]])})))}}]),e}()).\u0275fac=function(e){return new(e||P)(c.Ob(m.a),c.Ob(p.a),c.Ob(d.a),c.Ob(S))},P.\u0275cmp=c.Ib({type:P,selectors:[["oi-token-selector"]],viewQuery:function(e,t){var n;1&e&&c.Mc(B,!0),2&e&&c.wc(n=c.gc())&&(t.tokenDropDown=n.first)},inputs:{tokenAmountBN:"tokenAmountBN",tokenBlackList:"tokenBlackList",token:"token",tokenSpender:"tokenSpender"},outputs:{token:"token",onTokenSelectEmitter:"onTokenSelect"},decls:1,vars:1,consts:[["ngbDropdown","",4,"ngIf"],["ngbDropdown",""],["tokenDropDown","ngbDropdown"],["ngbDropdownToggle","","type","button",1,"btn","btn-block","btn-outline-secondary","text-left","is-flex","token-dropdown"],["onerror","this.src = 'assets/tokens/token.png';",1,"mr-1",3,"src"],["aria-labelledby","tokenDropdown","ngbDropdownMenu",""],[1,"p-2","border-bottom"],["autocomplete","off","placeholder",'Try "DAI"',"type","search",1,"form-control","border-0","tokenSearch",3,"formControl"],["tokenSearchField",""],[1,"tokenScrollArea"],[1,"p-2"],[1,"list-group","list-group-flush"],["class","list-group-item",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item",3,"click"],["class","text-secondary",4,"ngIf"],[1,"text-secondary"],[4,"ngIf"]],template:function(e,t){1&e&&c.Gc(0,R,15,6,"div",0),2&e&&c.nc("ngIf",t.tokens[t.token])},directives:[a.l,w.c,w.f,w.d,b.b,b.j,b.d,a.k],pipes:[a.b],styles:["button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px}li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px}.token-dropdown[_ngcontent-%COMP%]:active, .token-dropdown[_ngcontent-%COMP%]:focus, .token-dropdown[_ngcontent-%COMP%]:hover{color:#212529;background:transparent;box-shadow:none}.btn-outline-secondary[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-outline-secondary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .btn-outline-secondary.dropdown-toggle[_ngcontent-%COMP%]{background:transparent}.dropdown-toggle[_ngcontent-%COMP%]:after{color:#212529}.tokenSearch[_ngcontent-%COMP%]:focus{box-shadow:none}.tokenScrollArea[_ngcontent-%COMP%]{max-height:20rem;overflow:auto;min-width:15rem}.is-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.list-group-item[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),P),M=n("Kj3r"),N=n("/uUt");function A(e,t){if(1&e&&(c.Tb(0,"span"),c.Ic(1),c.Sb()),2&e){var n=c.ic();c.Bb(1),c.Kc("\u2248 ",n.tokenUsdCostView,"")}}function _(e,t){1&e&&(c.Tb(0,"span"),c.Ic(1,"\xa0"),c.Sb())}var E,D=((E=function(){function e(t,n,r){_classCallCheck(this,e),this.tokenService=t,this.tokenPriceService=n,this.web3Service=r,this.tokenAmountControl=new b.c(""),this.maxTokenBalance="0.0",this.tokenAmountBNChange=new c.n,this.tokenBalance="0.0",this.tokenBalanceBN=h.ethers.utils.bigNumberify(0),this.tokenUsdCostView="",this.usdFormatter=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),this._tokenAmountBN=h.ethers.utils.bigNumberify(0)}return _createClass(e,[{key:"ngOnInit",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.tokenAmountControl.valueChanges.pipe(Object(M.a)(200),Object(N.a)()).subscribe((function(e){if(""!==e&&t.isNumeric(e)&&0!==e&&!e.match(/^([0\.]+)$/)){t.tokenAmount=e;var n=t.tokenService.parseAsset(t.token,e);n.eq(t._tokenAmountBN)||(t._tokenAmountBN=n,t.tokenAmountBNChange.emit(t._tokenAmountBN)),t.updateTokenUSDCosts()}})),this.web3Service.connectEvent.subscribe((function(){t.loadTokenBalance()})),this.web3Service.disconnectEvent.subscribe((function(){t.reset()})),setTimeout((function(){t.runBackgroundJobs()}),5e3);case 1:case"end":return e.stop()}}),e,this)})))}},{key:"reset",value:function(){this.maxTokenBalance="0.0",this.tokenBalance="0.0",this.tokenBalanceBN=h.ethers.utils.bigNumberify(0),this.tokenUsdCost=h.ethers.utils.bigNumberify(0),this.tokenUsdCostView=""}},{key:"isNumeric",value:function(e){return/^\d*\.{0,1}\d*$/.test(e)}},{key:"loadTokenBalance",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.web3Service.walletAddress,!e.t0){e.next=31;break}if("ETH"!==this.token){e.next=19;break}return e.t1=h.ethers.utils,e.next=6,this.web3Service.web3Provider.eth.getBalance(this.web3Service.walletAddress);case 6:if(e.t2=e.sent,e.t3=this.gasPrice.mul(5e6),this.tokenBalanceBN=e.t1.bigNumberify.call(e.t1,e.t2).sub(e.t3),e.t4=this.tokenBalanceBN.lte(0),!e.t4){e.next=16;break}return e.t5=h.ethers.utils,e.next=14,this.web3Service.web3Provider.eth.getBalance(this.web3Service.walletAddress);case 14:e.t6=e.sent,this.tokenBalanceBN=e.t5.bigNumberify.call(e.t5,e.t6);case 16:this.tokenBalance=h.ethers.utils.formatEther(this.tokenBalanceBN),e.next=28;break;case 19:return e.t7=this.tokenService,e.t8=this.token,e.next=23,this.web3Service.walletAddress;case 23:return e.t9=e.sent,e.next=26,e.t7.getTokenBalance.call(e.t7,e.t8,e.t9);case 26:this.tokenBalanceBN=e.sent,this.tokenBalance=this.tokenService.formatAsset(this.token,this.tokenBalanceBN);case 28:this.tokenBalance=this.tokenService.toFixed(this.tokenBalance,18),"0"===this.tokenBalance&&(this.tokenBalance="0.0",this.tokenBalanceBN=h.ethers.utils.bigNumberify(0)),this.maxTokenBalance=this.tokenService.toFixed(this.tokenBalance,12);case 31:case"end":return e.stop()}}),e,this)})))}},{key:"setTokenAmount",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.tokenAmountControl.setValue(this.tokenBalance);case 1:case"end":return e.stop()}}),e,this)})))}},{key:"updateTokenUSDCosts",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,e.t0=this.tokenUsdPrice,e.t0){e.next=6;break}return e.next=5,this.tokenPriceService.fetchTokenPrice(this.token);case 5:this.tokenUsdPrice=e.sent;case 6:this.tokenUsdPrice.gt(0)&&(this.tokenUsdCost=this.tokenAmountBN.div(this.tokenUsdPrice),this.tokenUsdCostView=this.usdFormatter.format(this.tokenUsdCost.toString()/100)),e.next=12;break;case 9:e.prev=9,e.t1=e.catch(0),console.error(e.t1);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})))}},{key:"loadUSDPrice",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.tokenPriceService.fetchTokenPrice(this.token);case 3:this.tokenUsdPrice=e.sent,this.updateTokenUSDCosts(),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})))}},{key:"runBackgroundJobs",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(new Date).getTime(),e.prev=1,(n=[]).push(this.loadUSDPrice()),n.push(this.loadTokenBalance()),e.next=7,Promise.all(n);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:try{(new Date).getTime()-t>1e4?this.runBackgroundJobs():setTimeout((function(){r.runBackgroundJobs()}),1e4-((new Date).getTime()-t))}catch(o){console.error(o)}case 13:case"end":return e.stop()}}),e,this,[[1,9]])})))}},{key:"token",get:function(){return this._token},set:function(e){this._token=e,this.reset(),this.runBackgroundJobs()}},{key:"tokenAmountBN",get:function(){return this._tokenAmountBN},set:function(e){this._tokenAmountBN=e,this.tokenAmountControl.setValue(this.tokenService.formatAsset(this.token,e))}}]),e}()).\u0275fac=function(e){return new(e||E)(c.Ob(m.a),c.Ob(S),c.Ob(d.a))},E.\u0275cmp=c.Ib({type:E,selectors:[["oi-token-amount-field"]],inputs:{name:"name",id:"id",gasPrice:"gasPrice",token:"token",tokenAmountBN:"tokenAmountBN"},outputs:{tokenAmountBNChange:"tokenAmountBNChange"},decls:6,vars:6,consts:[[1,"form-text","text-muted","text-left","position-relative","mb-1","tokenBalance",2,"margin-top","-23px","white-space","nowrap","overflow","hidden","text-overflow","ellipsis",3,"click"],["aria-describedby","tokenBalance","autocomplete","off","numeric","","numericType","decimal","pattern","[0-9\\.]*","type","text",1,"form-control","text-right",3,"formControl","id","name"],["id","tokenCost",1,"form-text","text-right","text-info"],[4,"ngIf"]],template:function(e,t){1&e&&(c.Tb(0,"small",0),c.fc("click",(function(e){return t.setTokenAmount()})),c.Ic(1),c.Sb(),c.Pb(2,"input",1),c.Tb(3,"small",2),c.Gc(4,A,2,1,"span",3),c.Gc(5,_,2,0,"span",3),c.Sb()),2&e&&(c.Bb(1),c.Kc(" Max: ",t.maxTokenBalance,"\n"),c.Bb(1),c.nc("formControl",t.tokenAmountControl)("id",t.id)("name",t.name),c.Bb(2),c.nc("ngIf",t.tokenUsdCost),c.Bb(1),c.nc("ngIf",!t.tokenUsdCost))},directives:[b.b,b.m,b.j,b.d,a.l],styles:[".tokenBalance[_ngcontent-%COMP%]{cursor:pointer}"]}),E),j=n("oW1M"),L=n("SND4"),U=n("6NWb");function F(e,t){1&e&&c.Pb(0,"app-loading-spinner")}function H(e,t){if(1&e){var n=c.Ub();c.Tb(0,"ngb-alert",34),c.fc("close",(function(e){return c.zc(n),c.ic(3).done=!1})),c.Ic(1," Swap transaction was successfully sent."),c.Pb(2,"br"),c.Tb(3,"a",35),c.Ic(4),c.Sb(),c.Sb()}if(2&e){var r=c.ic(3);c.Bb(3),c.nc("href","https://etherscan.io/tx/"+r.transactionHash,c.Bc),c.Bb(1),c.Jc(r.transactionHash)}}function G(e,t){if(1&e){var n=c.Ub();c.Tb(0,"ngb-alert",36),c.fc("close",(function(e){return c.zc(n),c.ic(3).error=!1})),c.Ic(1," An error is occured. Please try again or contact us. If you are using Metamask, you can try to switch from mainnet to testnet and back to solve this problem. "),c.Sb()}}function J(e,t){if(1&e&&(c.Tb(0,"div",31),c.Gc(1,H,5,2,"ngb-alert",32),c.Gc(2,G,2,0,"ngb-alert",33),c.Sb()),2&e){var n=c.ic(2);c.Bb(1),c.nc("ngIf",n.done),c.Bb(1),c.nc("ngIf",n.error)}}function K(e,t){if(1&e&&(c.Tb(0,"div"),c.Gc(1,J,3,2,"div",30),c.Sb()),2&e){var n=c.ic();c.Bb(1),c.nc("ngIf",n.done||n.error)}}function X(e,t){if(1&e&&(c.Tb(0,"div"),c.Tb(1,"div",37),c.Tb(2,"div",38),c.Ic(3,"Stop loss at "),c.Pb(4,"fa-icon",39),c.Sb(),c.Tb(5,"div",40),c.Tb(6,"div",41),c.Pb(7,"input",42),c.Tb(8,"div",43),c.Tb(9,"button",44),c.Ic(10,"MAX"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Tb(11,"div",37),c.Tb(12,"div",38),c.Ic(13,"Take profit at "),c.Pb(14,"fa-icon",45),c.Sb(),c.Tb(15,"div",40),c.Tb(16,"div",41),c.Pb(17,"input",42),c.Tb(18,"div",43),c.Tb(19,"button",44),c.Ic(20,"MAX"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb()),2&e){var n=c.ic();c.Bb(4),c.nc("icon",n.info),c.Bb(10),c.nc("icon",n.info)}}function $(e,t){if(1&e){var n=c.Ub();c.Tb(0,"tr"),c.Tb(1,"td"),c.Ic(2),c.Sb(),c.Tb(3,"td"),c.Ic(4),c.Sb(),c.Tb(5,"td"),c.Ic(6),c.Sb(),c.Tb(7,"td"),c.Ic(8),c.Sb(),c.Tb(9,"td"),c.Ic(10),c.Sb(),c.Tb(11,"td"),c.Tb(12,"button",10),c.fc("click",(function(e){c.zc(n);var r=t.$implicit;return c.ic().operate(r)})),c.Ic(13," delete "),c.Sb(),c.Sb(),c.Sb()}if(2&e){var r=t.$implicit;c.Bb(2),c.Jc(r.tokenName),c.Bb(2),c.Jc(r.profit),c.Bb(2),c.Jc(r.status),c.Bb(2),c.Jc(r.stopLoss),c.Bb(2),c.Jc(r.stopWin)}}var W,V,z,q,Z=[{tokenName:"ETH",profit:"130%",status:"healthy",stopLoss:"210$",stopWin:"290$"},{tokenName:"MKR",profit:"90%",status:"healthy",stopLoss:"1110$",stopWin:"2920$"},{tokenName:"WBTC",profit:"1330%",status:"healthy",stopLoss:"9110$",stopWin:"14000$"}],Q=[{path:"",component:u,children:[{path:"",component:(V=function(){function e(t,n,r){_classCallCheck(this,e),this.configurationService=t,this.tokenService=n,this.web3Service=r,this.formGroup=new b.e({}),this.marked=!1,this._useT800SaveBot="1"===localStorage.getItem("leverageUseT800SaveBot")||!localStorage.getItem("leverageUseT800SaveBot"),this.tokenSpender="0x0000000000000000000000000000000000000000",this.marginToken=localStorage.getItem("leverageMarginToken")?localStorage.getItem("leverageMarginToken"):"ETH",this.payToken=localStorage.getItem("leveragePayToken")?localStorage.getItem("leveragePayToken"):"DAI",this.info=f.c,this.tokenBlackList=[],this.marginTokenList=["ETH","DAI","WBTC","ZRX","MKR"],this._amountBN=localStorage.getItem("leverageAmountBN")?h.ethers.utils.bigNumberify(localStorage.getItem("leverageAmountBN")):h.ethers.utils.bigNumberify(1e9).mul(1e9),this._positionModel=localStorage.getItem("leveragePositionModel")?localStorage.getItem("leveragePositionModel"):"long",this._leverageModel=localStorage.getItem("leverageLeverageModel")?localStorage.getItem("leverageLeverageModel"):"3x",this.loading=!0,this.transactionHash="",this.error=!1,this.done=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.tokenBlackList=Object.keys(this.tokenService.tokens).filter((function(t){return-1===e.marginTokenList.indexOf(t)})),this.gasPrice=this.configurationService.fastGasPrice,this.loading=!1}},{key:"onMarginTokenSelect",value:function(e){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.marginToken=e.symbol,localStorage.setItem("leverageMarginToken",this.marginToken);case 1:case"end":return t.stop()}}),t,this)})))}},{key:"onPayTokenSelect",value:function(e){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.payToken=e.symbol,localStorage.setItem("leveragePayToken",this.payToken);case 1:case"end":return t.stop()}}),t,this)})))}},{key:"toggleVisibility",value:function(e){this.marked=e.target.checked}},{key:"useT800SaveBot",get:function(){return this._useT800SaveBot},set:function(e){this._useT800SaveBot=e,localStorage.setItem("leverageUseT800SaveBot",e?"1":"0")}},{key:"amountBN",get:function(){return this._amountBN},set:function(e){this._amountBN=e,localStorage.setItem("leverageAmountBN",this._amountBN.toString())}},{key:"positionModel",get:function(){return this._positionModel},set:function(e){this._positionModel=e,localStorage.setItem("leveragePositionModel",e)}},{key:"leverageModel",get:function(){return this._leverageModel},set:function(e){this._leverageModel=e,localStorage.setItem("leverageLeverageModel",e)}}]),e}(),V.\u0275fac=function(e){return new(e||V)(c.Ob(p.a),c.Ob(m.a),c.Ob(d.a))},V.\u0275cmp=c.Ib({type:V,selectors:[["app-step1"]],decls:52,vars:14,consts:[[1,"pt-2","pr-3","pl-3","pt-md-5","mt-1"],[1,"pr-3","pl-3"],[1,"container","mt-4","mt-md-4","p-0","p-md-3"],[1,"card","mr-auto","ml-auto","col-lg-8"],[1,"card-header","text-center"],[1,"card-body","p-0","pl-md-3","pr-md-3","pb-md-3"],[4,"ngIf"],[1,"form-row","justify-content-between","field-labels","d-none","d-md-flex"],[1,"form-group","col-md-3","mb-1"],[1,"form-row","border-bottom","mb-3"],[1,"form-group","col-12","col-md-3"],["id","marginToken",3,"token","tokenBlackList","tokenSpender","onTokenSelect"],[1,"form-group","col-12","col-md-6","pt-3","pt-md-0"],["id","amount","name","amount",3,"token","tokenAmountBN","gasPrice","tokenAmountBNChange"],["id","fromToken",3,"token","tokenSpender","onTokenSelect"],[1,"pt-4","text-center"],["btnRadioGroup","",1,"btn-group",3,"ngModel","ngModelChange"],["btnRadio","short","tabindex","0","role","button",1,"btn","btn-info"],["btnRadio","long","tabindex","0","role","button",1,"btn","btn-info"],[1,"text-center","pt-3"],[1,"pt-3","text-center"],["btnRadio","2x","tabindex","0","role","button",1,"btn","btn-info","round"],["btnRadio","3x","tabindex","0","role","button",1,"btn","btn-info","round"],["btnRadio","4x","tabindex","0","role","button",1,"btn","btn-info","round"],["btnRadio","5x","tabindex","0","role","button",1,"btn","btn-info","round"],[1,"form-check","text-center","pt-3"],["type","checkbox","value","","id","botActivate","data-md-icheck","",1,"form-check-input",3,"ngModel","ngModelChange","change","click"],["for","botActivate",1,"form-check-label"],[1,"col-12","text-center","pt-4"],[1,"btn","btn-lg","btn-success"],["class","mb-3",4,"ngIf"],[1,"mb-3"],["class","mb-1","type","success",3,"close",4,"ngIf"],["class","mb-1","type","danger",3,"close",4,"ngIf"],["type","success",1,"mb-1",3,"close"],["target","_blank",3,"href"],["type","danger",1,"mb-1",3,"close"],[1,"row","pt-4","ml-md-4","mr-md-4"],[1,"col-4","col-xs-12","mt-2"],["tooltip","Lowest price which will trigger closing position",1,"upper",3,"icon"],[1,"col-8","col-xs-12"],[1,"input-group"],["type","text","placeholder","in %","aria-label","Amount",1,"form-control"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary"],["tooltip","Highest price which will trigger closing position",1,"upper",3,"icon"]],template:function(e,t){1&e&&(c.Tb(0,"h1",0),c.Ic(1," Leverage aggregator with automated trading strategy,"),c.Pb(2,"br"),c.Ic(3,"lowest price slippage and gas costs.\n"),c.Sb(),c.Tb(4,"h2",1),c.Ic(5," Achieving best results by using flash loans and liquidation save bot.\n"),c.Sb(),c.Tb(6,"div",2),c.Tb(7,"div",3),c.Tb(8,"div",4),c.Tb(9,"h5"),c.Ic(10,"Create position"),c.Sb(),c.Sb(),c.Tb(11,"div",5),c.Gc(12,F,1,0,"app-loading-spinner",6),c.Gc(13,K,2,1,"div",6),c.Tb(14,"div",7),c.Tb(15,"div",8),c.Ic(16," Leverage Token: "),c.Sb(),c.Tb(17,"div",8),c.Ic(18," Pay Token: "),c.Sb(),c.Sb(),c.Tb(19,"div",9),c.Tb(20,"div",10),c.Tb(21,"oi-token-selector",11),c.fc("onTokenSelect",(function(e){return t.onMarginTokenSelect(e)})),c.Sb(),c.Sb(),c.Tb(22,"div",12),c.Tb(23,"oi-token-amount-field",13),c.fc("tokenAmountBNChange",(function(e){return t.amountBN=e})),c.Sb(),c.Sb(),c.Tb(24,"div",10),c.Tb(25,"oi-token-selector",14),c.fc("onTokenSelect",(function(e){return t.onPayTokenSelect(e)})),c.Sb(),c.Sb(),c.Sb(),c.Tb(26,"div",15),c.Tb(27,"div",16),c.fc("ngModelChange",(function(e){return t.positionModel=e})),c.Tb(28,"label",17),c.Ic(29,"Short"),c.Sb(),c.Tb(30,"label",18),c.Ic(31,"Long"),c.Sb(),c.Sb(),c.Sb(),c.Tb(32,"h5",19),c.Ic(33,"Pick your leverage"),c.Sb(),c.Tb(34,"div",20),c.Tb(35,"div",16),c.fc("ngModelChange",(function(e){return t.leverageModel=e})),c.Tb(36,"label",21),c.Ic(37,"2X"),c.Sb(),c.Tb(38,"label",22),c.Ic(39,"3X"),c.Sb(),c.Tb(40,"label",23),c.Ic(41,"4X"),c.Sb(),c.Tb(42,"label",24),c.Ic(43,"5X"),c.Sb(),c.Sb(),c.Sb(),c.Tb(44,"div",25),c.Tb(45,"input",26),c.fc("ngModelChange",(function(e){return t.useT800SaveBot=e}))("change",(function(e){return t.toggleVisibility(e)}))("click",(function(e){return t.toggleVisibility(e)})),c.Sb(),c.Tb(46,"label",27),c.Ic(47," Use T-800 liquidation save bot "),c.Sb(),c.Sb(),c.Gc(48,X,21,2,"div",6),c.Tb(49,"div",28),c.Tb(50,"button",29),c.Ic(51,"Continue"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb()),2&e&&(c.Bb(12),c.nc("ngIf",t.loading),c.Bb(1),c.nc("ngIf",!t.loading),c.Bb(8),c.nc("token",t.marginToken)("tokenBlackList",t.tokenBlackList)("tokenSpender",t.tokenSpender),c.Bb(2),c.nc("token",t.payToken)("tokenAmountBN",t.amountBN)("gasPrice",t.gasPrice),c.Bb(2),c.nc("token",t.payToken)("tokenSpender",t.tokenSpender),c.Bb(2),c.nc("ngModel",t.positionModel),c.Bb(8),c.nc("ngModel",t.leverageModel),c.Bb(10),c.nc("ngModel",t.useT800SaveBot),c.Bb(3),c.nc("ngIf",t.useT800SaveBot))},directives:[a.l,O,D,j.c,b.j,b.k,j.b,b.a,L.a,w.a,U.a,j.f],styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{font-weight:300;text-align:center}h1[_ngcontent-%COMP%]{font-size:2rem}h2[_ngcontent-%COMP%]{font-size:1.1rem}@media(max-width:768px){h1[_ngcontent-%COMP%]{font-size:1.4rem;line-height:1.8rem}h2[_ngcontent-%COMP%]{font-size:.8rem}span.relays-hint[_ngcontent-%COMP%]{font-size:60%}}.active[_ngcontent-%COMP%]{background:#ea262a!important;border:1px solid #ea262a!important;box-shadow:none!important}.round[_ngcontent-%COMP%]{margin-left:.5em;margin-right:.5em;border-radius:100px!important}.upper[_ngcontent-%COMP%]{font-size:11px!important;padding:2px}"]}),V)},{path:"positions",component:(W=function(){function e(){_classCallCheck(this,e),this.positions=Z}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"operate",value:function(e){console.log(e)}}]),e}(),W.\u0275fac=function(e){return new(e||W)},W.\u0275cmp=c.Ib({type:W,selectors:[["app-my-positions"]],decls:25,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-md-8","offset-md-2","col-xs-12","mt-4"],[1,"card"],[1,"card-header","text-center"],[1,"input-group"],[1,"card-body"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],[1,"btn","btn-danger","btn-sm",3,"click"]],template:function(e,t){1&e&&(c.Tb(0,"div",0),c.Tb(1,"div",1),c.Tb(2,"div",2),c.Tb(3,"div",3),c.Tb(4,"div",4),c.Tb(5,"h5"),c.Ic(6,"My positions"),c.Sb(),c.Sb(),c.Tb(7,"div",5),c.Tb(8,"div",6),c.Tb(9,"table",7),c.Tb(10,"thead"),c.Tb(11,"tr"),c.Tb(12,"th",8),c.Ic(13,"Leverage Token"),c.Sb(),c.Tb(14,"th",8),c.Ic(15,"Profit"),c.Sb(),c.Tb(16,"th",8),c.Ic(17,"Status"),c.Sb(),c.Tb(18,"th",8),c.Ic(19,"Stop Loss"),c.Sb(),c.Tb(20,"th",8),c.Ic(21,"Stop Win"),c.Sb(),c.Pb(22,"th",8),c.Sb(),c.Sb(),c.Tb(23,"tbody"),c.Gc(24,$,14,5,"tr",9),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb()),2&e&&(c.Bb(24),c.nc("ngForOf",t.positions))},directives:[a.k],styles:[""]}),W)}]}],Y=((q=function e(){_classCallCheck(this,e)}).\u0275mod=c.Mb({type:q}),q.\u0275inj=c.Lb({factory:function(e){return new(e||q)},imports:[[s.e.forChild(Q)],s.e]}),q),ee=((z=function e(){_classCallCheck(this,e)}).\u0275mod=c.Mb({type:z}),z.\u0275inj=c.Lb({factory:function(e){return new(e||z)},imports:[[a.c,w.e,b.n]]}),z),te=n("Qe2p");n.d(t,"LeverageModule",(function(){return re}));var ne,re=((ne=function e(){_classCallCheck(this,e)}).\u0275mod=c.Mb({type:ne}),ne.\u0275inj=c.Lb({factory:function(e){return new(e||ne)},imports:[[a.c,Y,b.f,j.d,U.b,j.g.forRoot(),ee,b.n,te.a,w.b]]}),ne)}}]);